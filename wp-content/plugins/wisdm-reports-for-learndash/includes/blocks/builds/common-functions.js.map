{"version":3,"file":"common-functions.js","mappings":"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","sources":["webpack://learndash-reports-by-wisdmlabs/./includes/blocks/src/commons/common-functions.js"],"sourcesContent":["\nfunction wisdm_reports_format_course_revenue_response(currentRevenue, pastRevenue) {\n    let revenueData       = [];\n    let currentCourseIds  = (typeof currentRevenue === 'object' && null!=currentRevenue)?Object.keys(currentRevenue):[];\n    let pastCourseIds     = (typeof pastRevenue    === 'object' && null!=pastRevenue)?Object.keys(pastRevenue):[];\n    let coursesToShow     = currentCourseIds;\n\n    if (pastCourseIds.length>0) {\n      pastCourseIds.forEach(element => {\n        if(!coursesToShow.includes(element)) {\n          coursesToShow.push(element);  \n        } \n      });\n    }\n\n    if (coursesToShow.length>0) {\n      revenueData['titles']           = [];\n      revenueData['past_revenues']    = [];\n      revenueData['current_revenues'] = [];\n      coursesToShow.forEach(courseId => {\n        if (undefined!=currentRevenue[courseId]) {\n          revenueData['titles'].push(currentRevenue[courseId].title);\n          revenueData['current_revenues'].push(currentRevenue[courseId].total);\n          revenueData['past_revenues'].push(undefined!=pastRevenue[courseId]?pastRevenue[courseId].total:0);\n        } else if(undefined!=pastRevenue[courseId]) {\n          revenueData['titles'].push(pastRevenue[courseId].title);\n          revenueData['past_revenues'].push(pastRevenue[courseId].total);\n          revenueData['current_revenues'].push(0);\n        }\n      });\n    }\n\n    return revenueData;\n  }\n\n\n  function wisdm_reports_change_block_visibility( elementSelector, visible = true, parent_element = undefined) {\n    if (undefined!=parent_element) {\n      elementSelector = jQuery( elementSelector ).closest( parent_element );\n    }\n\n    if (visible) {\n      jQuery( elementSelector ).show();\n    } else {\n      jQuery( elementSelector ).hide();\n    }\n  }\n\n  function wisdm_reports_get_ld_custom_lebel_if_avaiable( ld_entity ) {\n    let custom_label ='';\n    if ( undefined != ld_entity ) {\n      ld_entity1 = ld_entity.toLowerCase();\n      \n      return wisdm_ld_reports_common_script_data.ld_custom_labels[ld_entity1];\n    }\n    return custom_label;\n  }\n\n  function wrld_output_resize() {\n      jQuery('.wrld-mw-1400').removeClass('wrld-xl');\n      jQuery('.wrld-mw-1400').removeClass('wrld-lg');\n      jQuery('.wrld-mw-1400').removeClass('wrld-m');\n      jQuery('.wrld-mw-1400').removeClass('wrld-s');\n      jQuery('.wrld-mw-1400').removeClass('wrld-xs');\n      const width = jQuery('.wrld-mw-1400').width();\n      \n      if(width > 1199){\n        jQuery('.wrld-mw-1400').addClass('wrld-xl');\n      }\n      else if(width > 992){\n        jQuery('.wrld-mw-1400').addClass('wrld-lg');\n      }\n      else if(width > 768){\n        jQuery('.wrld-mw-1400').addClass('wrld-m');\n      }\n      else if(width > 584){\n        jQuery('.wrld-mw-1400').addClass('wrld-s');\n      }\n      else{\n        jQuery('.wrld-mw-1400').addClass('wrld-xs');\n      }\n  }\n\n\ndocument.addEventListener(\"DOMContentLoaded\", function(event) {\n    if ( document.querySelectorAll('.wrld-mw-1400').length > 0 ) {\n        let wrldResizeObserver = new ResizeObserver(wrld_output_resize).observe(document.querySelectorAll('.wrld-mw-1400')[0]);\n        const width = jQuery('.wrld-mw-1400').width();\n        jQuery('.wrld-mw-1400').removeClass('wrld-xl');\n        jQuery('.wrld-mw-1400').removeClass('wrld-lg');\n        jQuery('.wrld-mw-1400').removeClass('wrld-m');\n        jQuery('.wrld-mw-1400').removeClass('wrld-s');\n        jQuery('.wrld-mw-1400').removeClass('wrld-xs');\n        if(width > 1199){\n          jQuery('.wrld-mw-1400').addClass('wrld-xl');\n        }\n        else if(width > 992){\n          jQuery('.wrld-mw-1400').addClass('wrld-lg');\n        }\n        else if(width > 768){\n          jQuery('.wrld-mw-1400').addClass('wrld-m');\n        }\n        else if(width > 584){\n          jQuery('.wrld-mw-1400').addClass('wrld-s');\n        }\n        else{\n          jQuery('.wrld-mw-1400').addClass('wrld-xs');\n        }\n    }\n\n    //Show notic on the edit page\n    if (wisdm_ld_reports_common_script_data.page_configuration_status) {\n      if (document.getElementsByClassName(\"wrld-notice\").length==0) {\n          ( function ( wp ) {\n              wp.data.dispatch( 'core/notices' ).createNotice(\n                  'success', // Can be one of: success, info, warning, error.\n                  '<div class=\"wrld-notice\"><span>' + wisdm_ld_reports_common_script_data.notice_content['header'] + '</span><ul> <li>' + wisdm_ld_reports_common_script_data.notice_content['li_1'] + '</li> <li>' + wisdm_ld_reports_common_script_data.notice_content['li_2'] + '</li><li>' + wisdm_ld_reports_common_script_data.notice_content['li_3'] + '</li><ul></div>', \n                  {\n                      __unstableHTML: true,\n                      isDismissible: true, // Whether the user can dismiss the notice.\n                  }\n              );\n          } )( window.wp );    \n      }\n    }\n    if (wisdm_ld_reports_common_script_data.page_student_configuration_status) {\n      if (document.getElementsByClassName(\"wrld-notice\").length==0) {\n          ( function ( wp ) {\n              wp.data.dispatch( 'core/notices' ).createNotice(\n                  'success', // Can be one of: success, info, warning, error.\n                  '<div class=\"wrld-notice\"><span>' + wisdm_ld_reports_common_script_data.notice_student_content['header'] + '</span><ul> <li>' + wisdm_ld_reports_common_script_data.notice_student_content['li_1'] + '</li> <li>' + wisdm_ld_reports_common_script_data.notice_student_content['li_2'] + '</li><ul></div>', \n                  {\n                      __unstableHTML: true,\n                      isDismissible: true, // Whether the user can dismiss the notice.\n                  }\n              );\n          } )( window.wp );    \n      }\n    }\n\n    const { isSavingPost } = wp.data.select( 'core/editor' );\n    if ( typeof isSavingPost !== 'undefined' ) {\n      var checked = true, checked2 = true; // Start in a checked state.\n      wp.data.subscribe( () => {\n          if ( isSavingPost() ) {\n           checked = false;\n          } else {\n           if ( ! checked ) {\n              if ('publish'==wp.data.select( 'core/editor' ).getEditedPostAttribute( 'status' ) \n              && wisdm_ld_reports_common_script_data.dashboard_page_id==wp.data.select( 'core/editor' ).getEditedPostAttribute( 'id' )\n              && (wisdm_ld_reports_common_script_data.visited_dashboard==false || wisdm_ld_reports_common_script_data.visited_dashboard=='free' ) ) {\n                window.location.href = wp.data.select( 'core/editor' ).getEditedPostAttribute('link');\n              }\n              checked = true;\n              }\n\n          }\n      } );\n\n      wp.data.subscribe( () => {\n          if ( isSavingPost() ) {\n           checked2 = false;\n          } else {\n           if ( ! checked2 ) {\n              if ('publish'==wp.data.select( 'core/editor' ).getEditedPostAttribute( 'status' ) \n              && wisdm_ld_reports_common_script_data.student_page_id==wp.data.select( 'core/editor' ).getEditedPostAttribute( 'id' )\n              && (wisdm_ld_reports_common_script_data.visited_student_dashboard==false ) ) {\n                window.location.href = wp.data.select( 'core/editor' ).getEditedPostAttribute('link');\n              }\n              checked2 = true;\n              }\n              \n          }\n      } );\n    }\n\n\n});"],"names":["wisdm_reports_format_course_revenue_response","currentRevenue","pastRevenue","revenueData","currentCourseIds","Object","keys","pastCourseIds","coursesToShow","length","forEach","element","includes","push","courseId","undefined","title","total","wisdm_reports_change_block_visibility","elementSelector","visible","arguments","parent_element","jQuery","closest","show","hide","wisdm_reports_get_ld_custom_lebel_if_avaiable","ld_entity","custom_label","ld_entity1","toLowerCase","wisdm_ld_reports_common_script_data","ld_custom_labels","wrld_output_resize","removeClass","width","addClass","document","addEventListener","event","querySelectorAll","wrldResizeObserver","ResizeObserver","observe","page_configuration_status","getElementsByClassName","wp","data","dispatch","createNotice","notice_content","__unstableHTML","isDismissible","window","page_student_configuration_status","notice_student_content","isSavingPost","select","checked","checked2","subscribe","getEditedPostAttribute","dashboard_page_id","visited_dashboard","location","href","student_page_id","visited_student_dashboard"],"sourceRoot":""}