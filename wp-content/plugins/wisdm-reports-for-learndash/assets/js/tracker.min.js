!function(t){if("undefined"==typeof page_info)return!1;var e=function(){this.post_id=page_info.post_id,this.course_id=page_info.course_id,this.security=page_info.security,this.ajax_url=page_info.ajax_url,this.frequency=page_info.frequency,this.time=0,t(window).on("unload",{tracker:this},this.unscheduledUpdate)};e.prototype.startTimer=function(){var t=this;this.timer=setInterval(function(){t.time++},1e3)},e.prototype.resetTimer=function(){clearInterval(this.timer),this.time=0},e.prototype.scheduleUpdate=function(){var t=this;setInterval(function(){t.sendUpdate(t.time)},1000*this.frequency)},e.prototype.unscheduledUpdate=function(t){var e=t.data.tracker;e.sendUpdate(e.time)},e.prototype.sendUpdate=function(t){var e=this;jQuery.post(this.ajax_url,{action:"add_time_entry",post_id:this.post_id,course_id:this.course_id,security:this.security,time_spent:t}).done(function(t){e.resetTimer(),e.startTimer()})},t(document).ready(function(){const t=new e;t.startTimer(),t.scheduleUpdate()})}(jQuery);