var CryptoJS=(CryptoJS=CryptoJS||function(l){var t={},e=t.lib={},i=e.Base={extend:function(t){n.prototype=this;var e=new n;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),(e.init.prototype=e).$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}};function n(){}var p=e.WordArray=i.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||o).stringify(this)},concat:function(t){var e=this.words,i=t.words,n=this.sigBytes,r=t.sigBytes;if(this.clamp(),n%4)for(var o=0;o<r;o++){var a=i[o>>>2]>>>24-o%4*8&255;e[n+o>>>2]|=a<<24-(n+o)%4*8}else if(65535<i.length)for(o=0;o<r;o+=4)e[n+o>>>2]=i[o>>>2];else e.push.apply(e,i);return this.sigBytes+=r,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=l.ceil(e/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],i=0;i<t;i+=4)e.push(4294967296*l.random()|0);return new p.init(e,t)}}),r=t.enc={},o=r.Hex={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],r=0;r<i;r++){var o=e[r>>>2]>>>24-r%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n+=2)i[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new p.init(i,e/2)}},a=r.Latin1={stringify:function(t){for(var e=t.words,i=t.sigBytes,n=[],r=0;r<i;r++){var o=e[r>>>2]>>>24-r%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n++)i[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new p.init(i,e)}},s=r.Utf8={stringify:function(t){try{return decodeURIComponent(escape(a.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return a.parse(unescape(encodeURIComponent(t)))}},c=(r.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,n=this._map;t.clamp();for(var r=[],o=0;o<i;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<i;s++)r.push(n.charAt(a>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;r.length%4;)r.push(c);return r.join("")},parse:function(t){var e=t.length,i=this._map,n=i.charAt(64);!n||-1!=(n=t.indexOf(n))&&(e=n);for(var r,o,a=[],s=0,c=0;c<e;c++)c%4&&(r=i.indexOf(t.charAt(c-1))<<c%4*2,o=i.indexOf(t.charAt(c))>>>6-c%4*2,a[s>>>2]|=(r|o)<<24-s%4*8,s++);return p.create(a,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new p.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=s.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,i=e.words,n=e.sigBytes,r=this.blockSize,o=n/(4*r),a=(o=t?l.ceil(o):l.max((0|o)-this._minBufferSize,0))*r,n=l.min(4*a,n);if(a){for(var s=0;s<a;s+=r)this._doProcessBlock(i,s);var c=i.splice(0,a);e.sigBytes-=n}return new p.init(c,n)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0})),u=e.Hasher=c.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(i){return function(t,e){return new i.init(e).finalize(t)}},_createHmacHelper:function(i){return function(t,e){return new d.HMAC.init(i,e).finalize(t)}}}),d=t.algo={},h=[],e=d.SHA1=u.extend({_doReset:function(){this._hash=new p.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var i=this._hash.words,n=i[0],r=i[1],o=i[2],a=i[3],s=i[4],c=0;c<80;c++){c<16?h[c]=0|t[e+c]:(l=h[c-3]^h[c-8]^h[c-14]^h[c-16],h[c]=l<<1|l>>>31);var l=(n<<5|n>>>27)+s+h[c];l+=c<20?1518500249+(r&o|~r&a):c<40?1859775393+(r^o^a):c<60?(r&o|r&a|o&a)-1894007588:(r^o^a)-899497514,s=a,a=o,o=r<<30|r>>>2,r=n,n=l}i[0]=i[0]+n|0,i[1]=i[1]+r|0,i[2]=i[2]+o|0,i[3]=i[3]+a|0,i[4]=i[4]+s|0},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(64+n>>>9<<4)]=l.floor(i/4294967296),e[15+(64+n>>>9<<4)]=i,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=u.clone.call(this);return t._hash=this._hash.clone(),t}});return t.SHA1=u._createHelper(e),t.HmacSHA1=u._createHmacHelper(e),t}(Math))||function(s){function i(){}var t={},e=t.lib={},n=e.Base={extend:function(t){i.prototype=this;var e=new i;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),(e.init.prototype=e).$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},c=e.WordArray=n.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||o).stringify(this)},concat:function(t){var e=this.words,i=t.words,n=this.sigBytes;if(t=t.sigBytes,this.clamp(),n%4)for(var r=0;r<t;r++)e[n+r>>>2]|=(i[r>>>2]>>>24-r%4*8&255)<<24-(n+r)%4*8;else if(65535<i.length)for(r=0;r<t;r+=4)e[n+r>>>2]=i[r>>>2];else e.push.apply(e,i);return this.sigBytes+=t,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=s.ceil(e/4)},clone:function(){var t=n.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],i=0;i<t;i+=4)e.push(4294967296*s.random()|0);return new c.init(e,t)}}),r=t.enc={},o=r.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],n=0;n<t;n++){var r=e[n>>>2]>>>24-n%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n+=2)i[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new c.init(i,e/2)}},a=r.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],n=0;n<t;n++)i.push(String.fromCharCode(e[n>>>2]>>>24-n%4*8&255));return i.join("")},parse:function(t){for(var e=t.length,i=[],n=0;n<e;n++)i[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new c.init(i,e)}},l=r.Utf8={stringify:function(t){try{return decodeURIComponent(escape(a.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return a.parse(unescape(encodeURIComponent(t)))}},p=e.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,i=e.words,n=e.sigBytes,r=this.blockSize,o=n/(4*r);if(t=(o=t?s.ceil(o):s.max((0|o)-this._minBufferSize,0))*r,n=s.min(4*t,n),t){for(var a=0;a<t;a+=r)this._doProcessBlock(i,a);a=i.splice(0,t),e.sigBytes-=n}return new c.init(a,n)},clone:function(){var t=n.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});e.Hasher=p.extend({cfg:n.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(i){return function(t,e){return new i.init(e).finalize(t)}},_createHmacHelper:function(i){return function(t,e){return new u.HMAC.init(i,e).finalize(t)}}});var u=t.algo={};return t}(Math);function toBase64(t){return CryptoJS&&CryptoJS.enc.Base64?CryptoJS.enc.Base64.stringify(CryptoJS.enc.Latin1.parse(t)):Base64.encode(t)}function toSHA1(t){return CryptoJS&&CryptoJS.SHA1?CryptoJS.SHA1(t).toString():Crypto.util.bytesToHex(Crypto.SHA1(t,{asBytes:!0}))}function toSHA256(t){if("[object ArrayBuffer]"!==Object.prototype.toString.call(t))return CryptoJS.SHA256(t).toString(CryptoJS.enc.Hex);for(var e=new Uint8Array(t),i=[],n=0;n<e.length;n+=4)i.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return CryptoJS.SHA256(CryptoJS.lib.WordArray.create(i,e.length)).toString(CryptoJS.enc.Hex)}function isDate(t){t="[object Date]"===Object.prototype.toString.call(t)?t:new Date(t);return"[object Date]"===Object.prototype.toString.call(t)?isNaN(t.valueOf())?(ADL.XAPIWrapper.log("Invalid date String passed"),null):t:(ADL.XAPIWrapper.log("Invalid date object"),null)}function GetQueryStringValue(t,e){var i;return null===(i=null===(i=SearchQueryStringPairs((e=e.substring(1)).split("&"),t))?SearchQueryStringPairs(e.split(/[\?\&]/),t):i)?"":i}function SearchQueryStringPairs(t,e){var i,n,r="";for(e=e.toLowerCase(),i=0;i<t.length;i++)if(-1!=(n=t[i].indexOf("="))&&EqualsIgnoreCase(t[i].substring(0,n),e))return r=t[i].substring(n+1),r=(r=new String(r)).replace(/\+/g,"%20"),r=unescape(r),new String(r);return null}function EqualsIgnoreCase(t,e){return t=new String(t),e=new String(e),t.toLowerCase()==e.toLowerCase()}function ValidInteger(t){var e=new String(t);0==e.indexOf("-",0)&&(e=e.substring(1,e.length-1));t=new RegExp("[^0-9]");return-1==e.search(t)}!function(r){function t(t){return 4294967296*(t-(0|t))|0}for(var e=CryptoJS,i=(o=e.lib).WordArray,n=o.Hasher,o=e.algo,a=[],f=[],s=2,c=0;c<64;){t:{for(var l=s,p=r.sqrt(l),u=2;u<=p;u++)if(!(l%u)){l=!1;break t}l=!0}l&&(c<8&&(a[c]=t(r.pow(s,.5))),f[c]=t(r.pow(s,1/3)),c++),s++}var g=[],o=o.SHA256=n.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(t,e){for(var i,n,r=this._hash.words,o=r[0],a=r[1],s=r[2],c=r[3],l=r[4],p=r[5],u=r[6],d=r[7],h=0;h<64;h++)h<16?g[h]=0|t[e+h]:(i=g[h-15],n=g[h-2],g[h]=((i<<25|i>>>7)^(i<<14|i>>>18)^i>>>3)+g[h-7]+((n<<15|n>>>17)^(n<<13|n>>>19)^n>>>10)+g[h-16]),i=d+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&p^~l&u)+f[h]+g[h],n=((o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22))+(o&a^o&s^a&s),d=u,u=p,p=l,l=c+i|0,c=s,s=a,a=o,o=i+n|0;r[0]=r[0]+o|0,r[1]=r[1]+a|0,r[2]=r[2]+s|0,r[3]=r[3]+c|0,r[4]=r[4]+l|0,r[5]=r[5]+p|0,r[6]=r[6]+u|0,r[7]=r[7]+d|0},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(64+n>>>9<<4)]=r.floor(i/4294967296),e[15+(64+n>>>9<<4)]=i,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=n._createHelper(o),e.HmacSHA256=n._createHmacHelper(o)}(Math),function(){var s=CryptoJS.enc.Utf8;CryptoJS.algo.HMAC=CryptoJS.lib.Base.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=s.parse(e));var i=t.blockSize,n=4*i;(e=e.sigBytes>n?t.finalize(e):e).clamp();for(var t=this._oKey=e.clone(),e=this._iKey=e.clone(),r=t.words,o=e.words,a=0;a<i;a++)r[a]^=1549556828,o[a]^=909522486;t.sigBytes=e.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher;return t=e.finalize(t),e.reset(),e.finalize(this._oKey.clone().concat(t))}})}(),function(t){function e(t){switch(t=t||"utf8"){case"utf-8":case"utf8":break;default:throw"TextEncoder only supports utf8"}}function i(t){switch(t=t||"utf8"){case"utf-8":case"utf8":break;default:throw"TextDecoder only supports utf8"}}void 0===t.TextEncoder&&(e.prototype.encode=function(t){for(var e=new Uint8Array(3*t.length),i=-1,n=t.length,r=0;r<n;){var o=function(t,e){if(String.prototype.codePointAt)return t.codePointAt(e);var i=(t=String(t)).length,n=e?Number(e):0;if(!((n=n!=n?0:n)<0||i<=n)){var r,e=t.charCodeAt(n);return 55296<=e&&e<=56319&&n+1<i&&56320<=(r=t.charCodeAt(n+1))&&r<=57343?1024*(e-55296)+r-56320+65536:e}}(t,r),a=0,s=0;for(o<=127?s=a=0:o<=2047?(a=6,s=192):o<=65535?(a=12,s=224):o<=2097151&&(a=18,s=240),e[i+=1]=s|o>>a,a-=6;0<=a;)e[i+=1]=128|o>>a&63,a-=6;r+=65536<=o?2:1}return e.subarray(0,i+1)},t.TextEncoder=e),void 0===t.TextDecoder&&(i.prototype.decode=function(t){for(var e="",i=0;i<t.length;){var n=t[i],r=0,o=0;if(n<=127?(r=0,o=255&n):n<=223?(r=1,o=31&n):n<=239?(r=2,o=15&n):n<=244&&(r=3,o=7&n),0<t.length-i-r)for(var a=0;a<r;)o=o<<6|63&(n=t[i+a+1]),a+=1;else o=65533,r=t.length-i;e+=function(t){if(String.fromCodePoint)return String.fromCodePoint(t);for(var e=[],i="",n=0,r=arguments.length;n!==r;++n){var o=+arguments[n];if(!(o<1114111&&o>>>0===o))throw RangeError("Invalid code point: "+o);16383<=(o<=65535?e.push(o):(o-=65536,e.push(55296+(o>>10),o%1024+56320)))&&(i+=String.fromCharCode.apply(null,e),e.length=0)}return i+String.fromCharCode.apply(null,e)}(o),i+=r+1}return e},t.TextDecoder=i)}(this),(window.ADL=window.ADL||{}).activityTypes={assessment:"http://adlnet.gov/expapi/activities/assessment",attempt:"http://adlnet.gov/expapi/activities/attempt",course:"http://adlnet.gov/expapi/activities/course",file:"http://adlnet.gov/expapi/activities/file",cmiInteraction:"http://adlnet.gov/expapi/activities/cmi.interaction",interaction:"http://adlnet.gov/expapi/activities/interaction",lesson:"http://adlnet.gov/expapi/activities/lesson",link:"http://adlnet.gov/expapi/activities/link",media:"http://adlnet.gov/expapi/activities/media",meeting:"http://adlnet.gov/expapi/activities/meeting",module:"http://adlnet.gov/expapi/activities/module",objective:"http://adlnet.gov/expapi/activities/objective",performance:"http://adlnet.gov/expapi/activities/performance",profile:"http://adlnet.gov/expapi/activities/profile",question:"http://adlnet.gov/expapi/activities/question",simulation:"http://adlnet.gov/expapi/activities/simulation"},(window.ADL=window.ADL||{}).verbs={abandoned:{id:"https://w3id.org/xapi/adl/verbs/abandoned",display:{"en-US":"abandoned"}},answered:{id:"http://adlnet.gov/expapi/verbs/answered",display:{"de-DE":"beantwortete","en-US":"answered","fr-FR":"a répondu","es-ES":"contestó","ar-AR":"أجاب"}},asked:{id:"http://adlnet.gov/expapi/verbs/asked",display:{"de-DE":"fragte","en-US":"asked","fr-FR":"a demandé","es-ES":"preguntó","ar-AR":"طلب"}},attempted:{id:"http://adlnet.gov/expapi/verbs/attempted",display:{"de-DE":"versuchte","en-US":"attempted","fr-FR":"a essayé","es-ES":"intentó","ar-AR":"حاول"}},attended:{id:"http://adlnet.gov/expapi/verbs/attended",display:{"de-DE":"nahm teil an","en-US":"attended","fr-FR":"a suivi","es-ES":"asistió","ar-AR":"حضر"}},commented:{id:"http://adlnet.gov/expapi/verbs/commented",display:{"de-DE":"kommentierte","en-US":"commented","fr-FR":"a commenté","es-ES":"comentó","ar-AR":"علق"}},completed:{id:"http://adlnet.gov/expapi/verbs/completed",display:{"de-DE":"beendete","en-US":"completed","fr-FR":"a terminé","es-ES":"completó","ar-AR":"أكمل"}},exited:{id:"http://adlnet.gov/expapi/verbs/exited",display:{"de-DE":"verließ","en-US":"exited","fr-FR":"a quitté","es-ES":"salió","ar-AR":"خرج"}},experienced:{id:"http://adlnet.gov/expapi/verbs/experienced",display:{"de-DE":"erlebte","en-US":"experienced","fr-FR":"a éprouvé","es-ES":"experimentó","ar-AR":"شاهد"}},failed:{id:"http://adlnet.gov/expapi/verbs/failed",display:{"de-DE":"verfehlte","en-US":"failed","fr-FR":"a échoué","es-ES":"fracasó","ar-AR":"فشل"}},imported:{id:"http://adlnet.gov/expapi/verbs/imported",display:{"de-DE":"importierte","en-US":"imported","fr-FR":"a importé","es-ES":"importó","ar-AR":"مستورد"}},initialized:{id:"http://adlnet.gov/expapi/verbs/initialized",display:{"de-DE":"initialisierte","en-US":"initialized","fr-FR":"a initialisé","es-ES":"inicializó","ar-AR":"بدأ"}},interacted:{id:"http://adlnet.gov/expapi/verbs/interacted",display:{"de-DE":"interagierte","en-US":"interacted","fr-FR":"a interagi","es-ES":"interactuó","ar-AR":"تفاعل"}},launched:{id:"http://adlnet.gov/expapi/verbs/launched",display:{"de-DE":"startete","en-US":"launched","fr-FR":"a lancé","es-ES":"lanzó","ar-AR":"أطلق"}},mastered:{id:"http://adlnet.gov/expapi/verbs/mastered",display:{"de-DE":"meisterte","en-US":"mastered","fr-FR":"a maîtrisé","es-ES":"dominó","ar-AR":"أتقن"}},passed:{id:"http://adlnet.gov/expapi/verbs/passed",display:{"de-DE":"bestand","en-US":"passed","fr-FR":"a réussi","es-ES":"aprobó","ar-AR":"نجح"}},preferred:{id:"http://adlnet.gov/expapi/verbs/preferred",display:{"de-DE":"bevorzugte","en-US":"preferred","fr-FR":"a préféré","es-ES":"prefirió","ar-AR":"فضل"}},progressed:{id:"http://adlnet.gov/expapi/verbs/progressed",display:{"de-DE":"machte Fortschritt mit","en-US":"progressed","fr-FR":"a progressé","es-ES":"progresó","ar-AR":"تقدم"}},registered:{id:"http://adlnet.gov/expapi/verbs/registered",display:{"de-DE":"registrierte","en-US":"registered","fr-FR":"a enregistré","es-ES":"registró","ar-AR":"سجل"}},responded:{id:"http://adlnet.gov/expapi/verbs/responded",display:{"de-DE":"reagierte","en-US":"responded","fr-FR":"a répondu","es-ES":"respondió","ar-AR":"استجاب"}},resumed:{id:"http://adlnet.gov/expapi/verbs/resumed",display:{"de-DE":"setzte fort","en-US":"resumed","fr-FR":"a repris","es-ES":"continuó","ar-AR":"استأنف"}},satisfied:{id:"https://w3id.org/xapi/adl/verbs/satisfied",display:{"de-DE":"befriedigt","en-US":"satisfied","fr-FR":"satisfaite","es-ES":"satisfecho","ar-AR":"راض"}},scored:{id:"http://adlnet.gov/expapi/verbs/scored",display:{"de-DE":"erreichte","en-US":"scored","fr-FR":"a marqué","es-ES":"anotó","ar-AR":"سحل النقاط"}},shared:{id:"http://adlnet.gov/expapi/verbs/shared",display:{"de-DE":"teilte","en-US":"shared","fr-FR":"a partagé","es-ES":"compartió","ar-AR":"شارك"}},suspended:{id:"http://adlnet.gov/expapi/verbs/suspended",display:{"de-DE":"pausierte","en-US":"suspended","fr-FR":"a suspendu","es-ES":"aplazó","ar-AR":"علق"}},terminated:{id:"http://adlnet.gov/expapi/verbs/terminated",display:{"de-DE":"beendete","en-US":"terminated","fr-FR":"a terminé","es-ES":"terminó","ar-AR":"أنهى"}},voided:{id:"http://adlnet.gov/expapi/verbs/voided",display:{"de-DE":"entwertete","en-US":"voided","fr-FR":"a annulé","es-ES":"anuló","ar-AR":"فرغ"}},waived:{id:"https://w3id.org/xapi/adl/verbs/waived",display:{"de-DE":"verzichtet","en-US":"waived","fr-FR":"renoncé","es-ES":"renunciado","ar-AR":"تخلى"}}},Date.prototype.toISOString||function(){function t(t){t=String(t);return t=1===t.length?"0"+t:t}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(),function(R){function t(t,e){function i(t){var e=document.createElement("a");if(e.href=t,e.protocol&&e.host)return e.protocol+"//"+e.host;if(e.href){e=e.href.split("//");return e[0]+"//"+e[1].substr(0,e[1].indexOf("/"))}R.XAPIWrapper.log("Couldn't create base url from endpoint: "+t)}function n(t,e,i){t.auth="Basic "+toBase64(e+":"+i)}this.lrs=function(t){var e,i,n=["endpoint","auth","actor","registration","activity_id","grouping","activity_platform"],r=new Object;if(void 0!==(e=function(){for(var t,e=window.location.search.substr(1).split("&"),i={},n=0;n<e.length;n++)2===(t=e[n].split("=")).length&&t[0]&&(i[t[0]]=decodeURIComponent(t[1]));return i}())&&0!==Object.keys(e).length){for(var o=0;o<n.length;o++)e[i=n[o]]&&(r[i]=e[i],delete e[i]);r=a(t,r)}else r=t;return r}(t||{}),this.lrs.user&&this.lrs.password&&n(this.lrs,this.lrs.user,this.lrs.password),this.base=i(this.lrs.endpoint),this.withCredentials=!1,t&&void 0!==t.withCredentials&&(this.withCredentials=t.withCredentials),this.strictCallbacks=!1,this.strictCallbacks=t&&t.strictCallbacks,e&&r.call(this)&&window.ADL.XHR_request(this.lrs,this.lrs.endpoint+"about","GET",null,null,function(t){if(200==t.status)try{var e,i=JSON.parse(t.response),n=!1;for(e in i.version)if(i.version.hasOwnProperty(e)&&i.version[e]==R.XAPIWrapper.xapiVersion){n=!0;break}n||R.XAPIWrapper.log("The lrs version ["+i.version+"] does not match this wrapper's XAPI version ["+R.XAPIWrapper.xapiVersion+"]")}catch(t){R.XAPIWrapper.log("The response was not an about object")}else R.XAPIWrapper.log("The request to get information about the LRS failed: "+t)},null,!1,null,this.withCredentials,!1),this.searchParams=function(){return{format:"exact"}},this.hash=function(t){if(!t)return null;try{return toSHA1(t)}catch(t){return R.XAPIWrapper.log("Error trying to hash -- "+t),null}},this.changeConfig=function(t){try{R.XAPIWrapper.log("updating lrs object with new configuration"),this.lrs=a(this.lrs,t),t.user&&t.password&&this.updateAuth(this.lrs,t.user,t.password),this.base=i(this.lrs.endpoint),this.withCredentials=t.withCredentials,this.strictCallbacks=t.strictCallbacks}catch(t){R.XAPIWrapper.log("error while changing configuration -- "+t)}},this.updateAuth=n}l.debug=!1;var e=((e={endpoint:"http://localhost:8000/xapi/"}).auth="Basic "+toBase64("tom:1234"),e);function r(){try{return null!=this.lrs.endpoint&&""!=this.lrs.endpoint}catch(t){return!1}}function l(t){if(!l.debug)return!1;try{return console.log(t),!0}catch(t){return!1}}function a(e,i){for(var n in i)if(0!=i.hasOwnProperty(n)){l(n+" : "+i[n]);try{i[n].constructor==Object?e[n]=a(e[n],i[n]):(e=null==e?new Object:e)[n]=i[n]}catch(t){(e=null==e?new Object:e)[n]=i[n]}}return e}t.prototype.xapiVersion="1.0.1",t.prototype.prepareStatement=function(t){void 0===t.actor?t.actor=JSON.parse(this.lrs.actor):"string"==typeof t.actor&&(t.actor=JSON.parse(t.actor)),(this.lrs.grouping||this.lrs.registration||this.lrs.activity_platform)&&(t.context||(t.context={})),this.lrs.grouping&&(t.context.contextActivities||(t.context.contextActivities={}),Array.isArray(t.context.contextActivities.grouping)?t.context.contextActivities.grouping.splice(0,0,{id:this.lrs.grouping}):t.context.contextActivities.grouping=[{id:this.lrs.grouping}]),this.lrs.registration&&(t.context.registration=this.lrs.registration),this.lrs.activity_platform&&(t.context.platform=this.lrs.activity_platform)},t.prototype.testConfig=r,t.prototype.log=l,t.prototype.defaultEncoding="utf-8",t.prototype.sendStatement=function(t,e,i){if(this.testConfig()){var n;this.prepareStatement(t),t.id?n=t.id:(n=R.ruuid(),t.id=n);var r=JSON.stringify(t),o=null;i&&0<i.length&&(r=this.buildMultipartPost(t,i,o={}));o=R.XHR_request(this.lrs,this.lrs.endpoint+"statements","POST",r,this.lrs.auth,e,{id:n},null,o,this.withCredentials,this.strictCallbacks);if(!e)return{xhr:o,id:n}}},t.prototype.stringToArrayBuffer=function(t,e){return e=e||R.XAPIWrapper.defaultEncoding,new TextEncoder(e).encode(t).buffer},t.prototype.stringFromArrayBuffer=function(t,e){return e=e||R.XAPIWrapper.defaultEncoding,new TextDecoder(e).decode(t)},t.prototype.buildMultipartPost=function(t,e,i){t.attachments=[];for(var n=0;n<e.length;n++)"signature"==e[n].type&&(e[n].type={usageType:"http://adlnet.gov/expapi/attachments/signature",display:{"en-US":"A JWT signature"},description:{"en-US":"A signature proving the statement was not modified"},contentType:"application/octet-stream"}),"string"==typeof e[n].value&&(e[n].value=this.stringToArrayBuffer(e[n].value)),e[n].type.length=e[n].value.byteLength,e[n].type.sha2=toSHA256(e[n].value),t.attachments.push(e[n].type);var r=[],o=(Math.random()+" ").substring(2,10)+(Math.random()+" ").substring(2,10);i["Content-Type"]="multipart/mixed; boundary="+o;var a,s="\r\n",i=["--"+o,"Content-Type: application/json",'Content-Disposition: form-data; name="statement"',"",JSON.stringify(t)].join(s)+s;for(n in r.push(i),e)e.hasOwnProperty(n)&&(a=["--"+o,"Content-Type: "+e[n].type.contentType,"Content-Transfer-Encoding: binary","X-Experience-API-Hash: "+e[n].type.sha2].join(s)+s+s,r.push(a),r.push(e[n].value));return r.push(s+"--"+o+"--"+s),new Blob(r)},t.prototype.sendStatements=function(t,e){if(this.testConfig()){for(var i in t)t.hasOwnProperty(i)&&this.prepareStatement(t[i]);var n=R.XHR_request(this.lrs,this.lrs.endpoint+"statements","POST",JSON.stringify(t),this.lrs.auth,e,null,!1,null,this.withCredentials,this.strictCallbacks);if(!e)return n}},t.prototype.getStatements=function(t,e,i){if(this.testConfig()){var n=this.lrs.endpoint+"statements";if(e)n=this.base+e;else{var r,o=new Array;for(s in t)t.hasOwnProperty(s)&&("until"==s||"since"==s?(r=new Date(t[s]),o.push(s+"="+encodeURIComponent(r.toISOString()))):o.push(s+"="+encodeURIComponent(t[s])));0<o.length&&(n=n+"?"+o.join("&"))}i=R.XHR_request(this.lrs,n,"GET",null,this.lrs.auth,i,null,!1,null,this.withCredentials,this.strictCallbacks);if(void 0===i||404==i.status)return null;try{return JSON.parse(i.response)}catch(t){return i.response}}},t.prototype.getActivities=function(t,e){if(this.testConfig()){var i=(i=this.lrs.endpoint+"activities?activityId=<activityid>").replace("<activityid>",encodeURIComponent(t)),e=R.XHR_request(this.lrs,i,"GET",null,this.lrs.auth,e,null,!0,null,this.withCredentials,this.strictCallbacks);if(void 0===e||404==e.status)return null;try{return JSON.parse(e.response)}catch(t){return e.response}}},t.prototype.sendState=function(t,e,i,n,r,o,a,s){if(this.testConfig()){var c=(c=(c=(c=this.lrs.endpoint+"activities/state?activityId=<activity ID>&agent=<agent>&stateId=<stateid>").replace("<activity ID>",encodeURIComponent(t))).replace("<agent>",encodeURIComponent(JSON.stringify(e)))).replace("<stateid>",encodeURIComponent(i));n&&(c+="&registration="+encodeURIComponent(n));n=null;o&&a?l("Can't have both If-Match and If-None-Match"):o?n={"If-Match":R.formatHash(o)}:a&&(n={"If-None-Match":R.formatHash(a)});a="PUT";if(!r)return this.log("No activity state was included."),!1;r instanceof Array?(r=JSON.stringify(r),(n=n||{})["Content-Type"]="application/json"):r instanceof Object?(r=JSON.stringify(r),(n=n||{})["Content-Type"]="application/json",a="POST"):(n=n||{})["Content-Type"]="application/octet-stream",R.XHR_request(this.lrs,c,a,r,this.lrs.auth,s,null,null,n,this.withCredentials,this.strictCallbacks)}},t.prototype.getState=function(t,e,i,n,r,o){if(this.testConfig()){var a=(a=(a=this.lrs.endpoint+"activities/state?activityId=<activity ID>&agent=<agent>").replace("<activity ID>",encodeURIComponent(t))).replace("<agent>",encodeURIComponent(JSON.stringify(e)));i&&(a+="&stateId="+encodeURIComponent(i)),n&&(a+="&registration="+encodeURIComponent(n)),r&&null!=(r=isDate(r))&&(a+="&since="+encodeURIComponent(r.toISOString()));o=R.XHR_request(this.lrs,a,"GET",null,this.lrs.auth,o,null,!0,null,this.withCredentials,this.strictCallbacks);if(void 0===o||404==o.status)return null;try{return JSON.parse(o.response)}catch(t){return o.response}}},t.prototype.deleteState=function(t,e,i,n,r,o,a){if(this.testConfig()){var s=(s=(s=(s=this.lrs.endpoint+"activities/state?activityId=<activity ID>&agent=<agent>&stateId=<stateid>").replace("<activity ID>",encodeURIComponent(t))).replace("<agent>",encodeURIComponent(JSON.stringify(e)))).replace("<stateid>",encodeURIComponent(i));n&&(s+="&registration="+encodeURIComponent(n));n=null;r&&o?l("Can't have both If-Match and If-None-Match"):r?n={"If-Match":R.formatHash(r)}:o&&(n={"If-None-Match":R.formatHash(o)});n=R.XHR_request(this.lrs,s,"DELETE",null,this.lrs.auth,a,null,!1,n,this.withCredentials,this.strictCallbacks);if(void 0===n||404==n.status)return null;try{return JSON.parse(n.response)}catch(t){return n}}},t.prototype.sendActivityProfile=function(t,e,i,n,r,o){if(this.testConfig()){var a=(a=(a=this.lrs.endpoint+"activities/profile?activityId=<activity ID>&profileId=<profileid>").replace("<activity ID>",encodeURIComponent(t))).replace("<profileid>",encodeURIComponent(e)),e=null;n&&r?l("Can't have both If-Match and If-None-Match"):n?e={"If-Match":R.formatHash(n)}:r&&(e={"If-None-Match":R.formatHash(r)});r="PUT";if(!i)return this.log("No activity profile was included."),!1;i instanceof Array?(i=JSON.stringify(i),(e=e||{})["Content-Type"]="application/json"):i instanceof Object?(i=JSON.stringify(i),(e=e||{})["Content-Type"]="application/json",r="POST"):(e=e||{})["Content-Type"]="application/octet-stream",R.XHR_request(this.lrs,a,r,i,this.lrs.auth,o,null,!1,e,this.withCredentials,this.strictCallbacks)}},t.prototype.getActivityProfile=function(t,e,i,n){if(this.testConfig()){var r=(r=this.lrs.endpoint+"activities/profile?activityId=<activity ID>").replace("<activity ID>",encodeURIComponent(t));e&&(r+="&profileId="+encodeURIComponent(e)),i&&null!=(i=isDate(i))&&(r+="&since="+encodeURIComponent(i.toISOString()));n=R.XHR_request(this.lrs,r,"GET",null,this.lrs.auth,n,null,!0,null,this.withCredentials,this.strictCallbacks);if(void 0===n||404==n.status)return null;try{return JSON.parse(n.response)}catch(t){return n.response}}},t.prototype.deleteActivityProfile=function(t,e,i,n,r){if(this.testConfig()){var o=(o=(o=this.lrs.endpoint+"activities/profile?activityId=<activity ID>&profileId=<profileid>").replace("<activity ID>",encodeURIComponent(t))).replace("<profileid>",encodeURIComponent(e)),e=null;i&&n?l("Can't have both If-Match and If-None-Match"):i?e={"If-Match":R.formatHash(i)}:n&&(e={"If-None-Match":R.formatHash(n)});e=R.XHR_request(this.lrs,o,"DELETE",null,this.lrs.auth,r,null,!1,e,this.withCredentials,this.strictCallbacks);if(void 0===e||404==e.status)return null;try{return JSON.parse(e.response)}catch(t){return e}}},t.prototype.getAgents=function(t,e){if(this.testConfig()){var i=(i=this.lrs.endpoint+"agents?agent=<agent>").replace("<agent>",encodeURIComponent(JSON.stringify(t))),e=R.XHR_request(this.lrs,i,"GET",null,this.lrs.auth,e,null,!0,null,this.withCredentials,this.strictCallbacks);if(void 0===e||404==e.status)return null;try{return JSON.parse(e.response)}catch(t){return e.response}}},t.prototype.sendAgentProfile=function(t,e,i,n,r,o){if(this.testConfig()){var a=(a=(a=this.lrs.endpoint+"agents/profile?agent=<agent>&profileId=<profileid>").replace("<agent>",encodeURIComponent(JSON.stringify(t)))).replace("<profileid>",encodeURIComponent(e)),e=null;n&&r?l("Can't have both If-Match and If-None-Match"):n?e={"If-Match":R.formatHash(n)}:r&&(e={"If-None-Match":R.formatHash(r)});r="PUT";if(!i)return this.log("No agent profile was included."),!1;i instanceof Array?(i=JSON.stringify(i),(e=e||{})["Content-Type"]="application/json"):i instanceof Object?(i=JSON.stringify(i),(e=e||{})["Content-Type"]="application/json",r="POST"):(e=e||{})["Content-Type"]="application/octet-stream",R.XHR_request(this.lrs,a,r,i,this.lrs.auth,o,null,!1,e,this.withCredentials,this.strictCallbacks)}},t.prototype.getAgentProfile=function(t,e,i,n){if(this.testConfig()){var r=(r=(r=this.lrs.endpoint+"agents/profile?agent=<agent>").replace("<agent>",encodeURIComponent(JSON.stringify(t)))).replace("<profileid>",encodeURIComponent(e));e&&(r+="&profileId="+encodeURIComponent(e)),i&&null!=(i=isDate(i))&&(r+="&since="+encodeURIComponent(i.toISOString()));n=R.XHR_request(this.lrs,r,"GET",null,this.lrs.auth,n,null,!0,null,this.withCredentials,this.strictCallbacks);if(void 0===n||404==n.status)return null;try{return JSON.parse(n.response)}catch(t){return n.response}}},t.prototype.deleteAgentProfile=function(t,e,i,n,r){if(this.testConfig()){var o=(o=(o=this.lrs.endpoint+"agents/profile?agent=<agent>&profileId=<profileid>").replace("<agent>",encodeURIComponent(JSON.stringify(t)))).replace("<profileid>",encodeURIComponent(e)),e=null;i&&n?l("Can't have both If-Match and If-None-Match"):i?e={"If-Match":R.formatHash(i)}:n&&(e={"If-None-Match":R.formatHash(n)});e=R.XHR_request(this.lrs,o,"DELETE",null,this.lrs.auth,r,null,!1,e,this.withCredentials,this.strictCallbacks);if(void 0===e||404==e.status)return null;try{return JSON.parse(e.response)}catch(t){return e}}},R.ruuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},R.dateFromISOString=function(t){var e=t.match(new RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T| ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?")),i=0,t=new Date(e[1],0,1);e[3]&&t.setMonth(e[3]-1),e[5]&&t.setDate(e[5]),e[7]&&t.setHours(e[7]),e[8]&&t.setMinutes(e[8]),e[10]&&t.setSeconds(e[10]),e[12]&&t.setMilliseconds(1e3*Number("0."+e[12])),e[14]&&(i=60*Number(e[16])+Number(e[17]),i*="-"==e[15]?1:-1),i-=t.getTimezoneOffset(),time=Number(t)+60*i*1e3;i=new Date;return i.setTime(Number(time)),i},R.XHR_request=function(t,s,n,e,i,r,o,a,c,l,p){"use strict";var u,d,h,f,g,m,v,y=!1,S=!1,x=s.toLowerCase().match(/^(.+):\/\/([^:\/]*):?(\d+)?(\/.*)?$/),b=window.location,w={"Content-Type":"application/json"};if(w.Authorization=i,w["X-Experience-API-Version"]=R.XAPIWrapper.xapiVersion,null!==c)for(var A in c)c.hasOwnProperty(A)&&(w[A]=c[A]);if(v=b.protocol.toLowerCase()!==x[1]||b.hostname.toLowerCase()!==x[2]||(null===x[3]?"http"===x[1]?"80":"443":x[3])===b.port,null!==t&&void 0!==t.extended){for(g in f=new Array,t.extended)f.push(g+"="+t.extended[g]);0<f.length&&(s+=(-1<s.indexOf("?")?"&":"?")+f.join("&"))}var I,C,b=window.XDomainRequest&&window.XMLHttpRequest&&void 0===(new XMLHttpRequest).responseType;if(v&&void 0!==b&&!1!==b)S=!0,d=function(t,e,i){var n=s,r=new Array,o=n.indexOf("?");if(0<o&&(r.push(n.substr(o+1)),n=n.substr(0,o)),n=n+"?method="+t,null!==e)for(var a in e)e.hasOwnProperty(a)&&r.push(a+"="+encodeURIComponent(e[a]));return null!==i&&r.push("content="+encodeURIComponent(i)),{method:"POST",url:n,headers:{},data:r.join("&")}}(n,w,e),(u=new XDomainRequest).open(d.method,d.url);else for(var A in(u=new XMLHttpRequest).withCredentials=l,u.open(n,s,!0),w)u.setRequestHeader(A,w[A]);function _(){if(y)return h;y=!0;var t,e,i=a&&404===u.status;if(!(void 0===u.status||200<=u.status&&u.status<400||i)){try{t="There was a problem communicating with the Learning Record Store. ( "+u.status+" | "+u.response+" )"+s}catch(i){t=i.toString()}return R.XAPIWrapper.log(t),R.xhrRequestOnError(u,n,s,r,o,p),h=u}if(!r)return h=u;if(o)p?r(null,u,o):r(u,o);else{try{e=JSON.parse(u.responseText)}catch(i){e=u.responseText}p?r(null,u,e):r(u,e)}}if(u.onreadystatechange=function(){if(4===u.readyState)return _()},u.onload=_,u.onerror=_,u.send(S?d.data:e),!r){if(S)for(m=1e3+new Date;new Date<m&&4!==u.readyState&&!y;)I=void 0,I=new XMLHttpRequest,C=window.location+"?forcenocache="+R.ruuid(),I.open("GET",C,!0),I.send(null);return _()}},R.xhrRequestOnError=function(t,e,i,n,r,o){if(n&&o){var a,o=t?t.status:void 0,o=o?new Error("Request error: "+t.status):0===o||null===o?new Error("Request error: aborted"):new Error("Reqeust error: unknown");if(r)n(o,t,r);else{try{a=JSON.parse(t.responseText)}catch(e){a=t.responseText}n(o,t,a)}}},R.formatHash=function(t){return"*"===t?t:'"'+t+'"'},R.XAPIWrapper=new t(e,!1)}(window.ADL=window.ADL||{}),function(a){function r(t,e){var i=e.split("."),n=i[0];return e=i.slice(1).join("."),t[n]||(/\[\]$/.test(n)?(n=n.slice(0,-2),Array.isArray(t[n])||(t[n]=[])):t[n]={}),e?r(t[n],e):t[n]}function n(t,e,i,n){if(t&&t.actor&&t.verb&&t.object){var r,o=t;for(r in o)"actor"!=r&&"verb"!=r&&"object"!=r&&(this[r]=o[r]);t=o.actor,e=o.verb,i=o.object}t?t instanceof s?this.actor=t:"Agent"!==t.objectType&&t.objectType?"Group"===t.objectType&&(this.actor=new c(t)):this.actor=new s(t):this.actor=null,this.verb=e?e instanceof l?e:new l(e):null,i?"Activity"!==i.objectType&&i.objectType?"Agent"===i.objectType?this.object=i instanceof s?i:new s(i):"Group"===i.objectType?this.object=i instanceof c?i:new c(i):"StatementRef"===i.objectType?this.object=i instanceof u?i:new u(i):"SubStatement"===i.objectType?this.object=i instanceof d?i:new d(i):this.object=null:this.object=i instanceof p?i:new p(i):this.object=null,n&&(this.result=n),this.generateId=function(){this.id=a.ruuid()}}n.prototype.toString=function(){return this.actor.toString()+" "+this.verb.toString()+" "+this.object.toString()+" "+this.result.toString()},n.prototype.isValid=function(){return this.actor&&this.actor.isValid()&&this.verb&&this.verb.isValid()&&this.object&&this.object.isValid()&&this.result&&this.result.isValid()},n.prototype.generateRegistration=function(){r(this,"context").registration=a.ruuid()},n.prototype.addParentActivity=function(t){r(this,"context.contextActivities.parent[]").push(new p(t))},n.prototype.addGroupingActivity=function(t){r(this,"context.contextActivities.grouping[]").push(new p(t))},n.prototype.addOtherContextActivity=function(t){r(this,"context.contextActivities.other[]").push(new p(t))};var s=function(t,e){if(this.objectType="Agent",this.name=e,t&&(t.mbox||t.mbox_sha1sum||t.openid||t.account))for(var i in t)this[i]=t[i];else/^mailto:/.test(t)?this.mbox=t:/^[0-9a-f]{40}$/i.test(t)?this.mbox_sha1sum=t:/^http[s]?:/.test(t)?this.openid=t:t&&t.homePage&&t.name&&(this.account=t)};s.prototype.toString=function(){return this.name||this.mbox||this.openid||this.mbox_sha1sum||this.account.name},s.prototype.isValid=function(){return this.mbox||this.mbox_sha1sum||this.openid||this.account.homePage&&this.account.name||"Group"===this.objectType&&this.member};var c=function(t,e,i){s.call(this,t,i),this.member=e,this.objectType="Group"};c.prototype=new s;var l=function(t,e){if(t&&t.id)for(var i in t)this[i]=t[i];else this.id=t,e&&("string"==typeof e||e instanceof String?this.display={"en-US":e}:this.display=e)};l.prototype.toString=function(){return this.display&&(this.display["en-US"]||this.display.en)?this.display["en-US"]||this.display.en:this.id},l.prototype.isValid=function(){return this.id};var p=function(t,e,i){if(t&&t.id){var n,r=t;for(n in r)this[n]=r[n]}else this.objectType="Activity",this.id=t,(e||i)&&(this.definition={},"string"==typeof e||e instanceof String?this.definition.name={"en-US":e}:e&&(this.definition.name=e),"string"==typeof i||i instanceof String?this.definition.description={"en-US":i}:i&&(this.definition.description=i))};p.prototype.toString=function(){return this.definition&&this.definition.name&&(this.definition.name["en-US"]||this.definition.name.en)?this.definition.name["en-US"]||this.definition.name.en:this.id},p.prototype.isValid=function(){return this.id&&(!this.objectType||"Activity"===this.objectType)};var u=function(t){if(t&&t.id)for(var e in t)this[e]=t[e];else this.objectType="StatementRef",this.id=t};u.prototype.toString=function(){return"statement("+this.id+")"},u.prototype.isValid=function(){return this.id&&this.objectType&&"StatementRef"===this.objectType};var d=function(t,e,i){n.call(this,t,e,i),this.objectType="SubStatement",delete this.id,delete this.stored,delete this.version,delete this.authority};d.prototype=new n,d.prototype.toString=function(){return'"'+d.prototype.prototype.toString.call(this)+'"'},n.Agent=s,n.Group=c,n.Verb=l,n.Activity=p,n.StatementRef=u,n.SubStatement=d,a.XAPIStatement=n}(window.ADL=window.ADL||{}),function(t){var a=t,e=!1;function n(t){if("SubStatement"===t.objectType&&"SubStatement"!==t.object.objectType&&!(t.id||t.stored||t.version||t.authority))return a.xapiutil.getActorId(t.actor)+":"+a.xapiutil.getVerbDisplay(t.verb)+":"+a.xapiutil.getObjectId(t.object)}"undefined"!=typeof window&&(a=window.ADL=t.ADL||{},e=!0),a.xapiutil={},a.xapiutil.getLang=function(){var t,e;return"undefined"!=typeof navigator?e=navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage:"undefined"!=typeof process&&void 0!==process.env&&void 0!==process.env.LANG&&(e=(e=(t=process.env.LANG).slice(0,t.indexOf("."))).replace(/_/,"-")),e||"en-US"},a.xapiutil.getLangVal=function(t){if(t&&0!=Object.keys(t).length){for(var e,i=a.xapiutil.getLang(),n=!1;t[i]?(e=t[i],n=!0):i.indexOf("-")&&(i=i.substring(0,i.lastIndexOf("-"))),!n&&""!==i;);return e}},a.xapiutil.getMoreStatements=function(i,n,r){if(!e)throw new Error("Node not supported.");var o=[];a.XAPIWrapper.getStatements(r,null,function t(e){e&&e.response&&((e=JSON.parse(e.response)).statements&&(o=o.concat(e.statements),i--<=0?n(o):e.more&&""!==e.more?a.XAPIWrapper.getStatements(r,e.more,t):""===e.more&&n(o)))})},a.xapiutil.getActorId=function(t){return t.mbox||t.openid||t.mbox_sha1sum||t.account},a.xapiutil.getActorIdString=function(t){var e=t.mbox||t.openid||t.mbox_sha1sum;return e||(t.account?t.account.homePage+":"+t.account.name:t.member?"Anon Group "+t.member:"unknown")},a.xapiutil.getActorDisplay=function(t){return t.name||a.xapiutil.getActorIdString(t)},a.xapiutil.getVerbDisplay=function(t){if(t)return t.display&&a.xapiutil.getLangVal(t.display)||t.id},a.xapiutil.getObjectType=function(t){return t.objectType||(t.id?"Activity":"Agent")},a.xapiutil.getObjectId=function(t){if(t.id)return t.id;var e=a.xapiutil.getObjectType(t);return"Agent"===e||"Group"===e?a.xapiutil.getActorId(t):void 0},a.xapiutil.getObjectIdString=function(t){if(!t)return"unknown";if(t.id)return t.id;var e=a.xapiutil.getObjectType(t);return"Agent"===e||"Group"===e?a.xapiutil.getActorIdString(t):"SubStatement"==e?n(t):"unknown"},a.xapiutil.getObjectDisplay=function(t){if(!t)return"unknown";var e,i=function(){if(t.definition&&t.definition.name)return a.xapiutil.getLangVal(t.definition.name)}()||t.name||t.id;return i||("Agent"===(e=a.xapiutil.getObjectType(t))||"Group"==e?i=a.xapiutil.getActorDisplay(t):"SubStatement"==e&&(i=n(t))),i}}(this),function(){var u=window.ADL=window.ADL||{};function d(t){for(var e=window.location.search.substring(1).split("&"),i=0;i<e.length;i++){var n=e[i].split("=");if(decodeURIComponent(n[0])==t)return decodeURIComponent(n[1])}}function h(t){var e="xAPILaunchKey="+d("xAPILaunchKey")+"&xAPILaunchService="+d("xAPILaunchService");d("encrypted")&&(e+="&encrypted=true");for(var i=0;i<t.length;i++){var n=t[i],r=n.href,o=n.attributes.getNamedItem("courselink");o&&"true"==o.value&&(r=-1<r.indexOf("?")?r+"&"+e:r+"?"+e,n.href=r)}}u.launch=function r(o,a,s){var n=o;o=function(){var i=arguments;window.setTimeout(function(){for(var t=[],e=0;e<i.length;e++)t.push(i[e]);n.apply(window,t)},0)};try{var c=d("xAPILaunchKey"),l=d("xAPILaunchService");if(d("encrypted"),r.terminate=function(t){var e=new URL(l);e.pathname+="launch/"+c+"/terminate";var i=new XMLHttpRequest;i.withCredentials=!0,i.crossDomain=!0,i.open("POST",e.toString(),!0),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify({code:0,description:t||"User closed content"}))},!c||!l)return o("invalid launch parameters");var t=new URL(l);t.pathname+="launch/"+c;var p=new XMLHttpRequest;p.withCredentials=!0,p.crossDomain=!0,p.onerror=function(t){window.setTimeout(function(){return o(t)})},p.onload=function(t){if(200!==p.status)return p.onerror(p.responseText);var e=JSON.parse(p.responseText),i=e,n={};n.endpoint=i.endpoint,n.actor=i.actor,n.withCredentials=!0,n.strictCallbacks=s||!1,window.onunload=function(){a&&r.terminate("User closed content")};i=new u.XAPIWrapper.constructor;return i.changeConfig(n),h(document.body.querySelectorAll("a")),n=document.body,new MutationObserver(function(t){t.forEach(function(t){for(var e in t.addedNodes)t.addedNodes.hasOwnProperty(e)&&t.addedNodes[e].constructor==HTMLAnchorElement&&h([t.addedNodes[e]])})}).observe(n,{attributes:!0,childList:!0,subtree:!0}),o(null,e,i)},p.open("POST",t.toString(),!0),p.send()}catch(t){o(t)}}}();var scv=GetQueryStringValue("sv",document.currentScript.src);function parseURL(t){var e,i,n,t=String(t).split("?"),r={};if(2===t.length)for(e=t[1].split("&"),n=0;n<e.length;n+=1)2===(i=e[n].split("=")).length&&i[0]&&(r[i[0]]=decodeURIComponent(i[1]));return{path:t[0],params:r}}function getParameterByName(t,e){e=e||window.location.href,t=t.replace(/[\[\]]/g,"$&");e=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null}String.prototype.includes||(String.prototype.includes=function(t,e){return!((e="number"!=typeof e?0:e)+t.length>this.length)&&-1!==this.indexOf(t,e)});var API_1484_11,API,actor=JSON.parse(getParameterByName("actor")),baseUrl=getParameterByName("base_url"),nonce=getParameterByName("nonce"),email=actor.mbox[0].replace("mailto:",""),postId=getParameterByName("auth").replace("LearnDashId","");function console_log(arguments){console.log(arguments)}xapi=function(){function n(t){var e=retrieveDataValue(d.successElement),i=retrieveDataValue(d.completionElement),n=retrieveDataValue(d.scoreScaledElement),r=retrieveDataValue(d.scoreRawElement),o=retrieveDataValue(d.scoreMinElement),a=retrieveDataValue(d.scoreMaxElement),s=!1,c={},l=!1,p={};return"passed"==e?c.success=s=!0:"failed"==e&&(c.success=!(s=!0)),"completed"==i?c.completion=s=!0:"incomplete"==i&&(c.completion=!(s=!0)),null!=n&&""!=n&&(s=l=!0,p.scaled=parseFloat(n)),null!=r&&""!=r&&(s=l=!0,p.raw=parseFloat(r),u.isScorm2004||(p.scaled=parseFloat(r)/100)),null!=o&&""!=o&&(s=l=!0,p.min=parseFloat(o)),null!=a&&""!=a&&(s=l=!0,p.max=parseFloat(a)),l&&(c.score=p),s&&(t.result=c),t}function r(t,e){window.localStorage[u.activityId];var i=g();ADL.XAPIWrapper.sendState(u.activityId,i,t,null,e,ADL.XAPIWrapper.hash(e))}function o(t){var e=u.isScorm2004?parseFloat(t):parseFloat(t)/100;(t=p()).verb=ADL.verbs.scored,t.context.contextActivities.grouping[0].id=window.localStorage[u.activityId],t.context.contextActivities.grouping.push(u.groupingContextActivity),t.result={score:{scaled:e}},ADL.XAPIWrapper.sendStatement(t)}function a(t){"completed"==t&&y(ADL.verbs.completed)}function s(t){"passed"!=t&&"failed"!=t||y(ADL.verbs[t])}function e(){var t=parseURL(window.location.href).params,e={},n={endpoint:u.lrs.endpoint};for(i in t)t.hasOwnProperty(i)&&(c.hasOwnProperty(i)?delete t[i]:(e=e||{})[i]=t[i]);null!==e&&(n.extended=e),n.allowFail=!1,ADL.XAPIWrapper.changeConfig(n)}var c={statementId:!0,voidedStatementId:!0,verb:!0,object:!0,registration:!0,context:!0,actor:!0,since:!0,until:!0,limit:!0,authoritative:!0,sparse:!0,instructor:!0,ascending:!0,continueToken:!0,agent:!0,activityId:!0,stateId:!0,profileId:!0,activity_platform:!0,grouping:!0,"Accept-Language":!0,endpoint:!0,auth:!0},u={lrs:{endpoint:"https://lrs.adlnet.gov/xapi/",user:"",password:""},courseId:"",lmsHomePage:"",isScorm2004:!0,activityId:"",groupingContextActivity:{}},d={},l=!1,p=function(){return{actor:{objectType:"Agent",mbox:actor.mbox[0].replace("mailto:",""),name:actor.name[0]},verb:{},object:{id:u.activityId,definition:{type:"http://adlnet.gov/expapi/activities/lesson"}},context:{contextActivities:{grouping:[{id:"",objectType:"Activity",definition:{type:"http://adlnet.gov/expapi/activities/attempt"}},{id:u.courseId,objectType:"Activity",definition:{type:"http://adlnet.gov/expapi/activities/course"}}],category:[{id:"https://w3id.org/xapi/scorm"}]}}}},h=function(){return{actor:{objectType:"Agent",mbox:actor.mbox[0].replace("mailto:",""),name:actor.name[0]},verb:ADL.verbs.responded,object:{objectType:"Activity",id:"",definition:{type:"http://adlnet.gov/expapi/activities/cmi.interaction",interactionType:"",correctResponsesPattern:[]}},context:{contextActivities:{parent:[{id:u.activityId,objectType:"Activity",definition:{type:"http://adlnet.gov/expapi/activities/lesson"}}],grouping:[{id:"",objectType:"Activity",definition:{type:"http://adlnet.gov/expapi/activities/attempt"}},{id:u.courseId,objectType:"Activity",definition:{type:"http://adlnet.gov/expapi/activities/course"}}],category:[{id:"https://w3id.org/xapi/scorm"}]}},result:{response:""}}},f=function(){return{actor:{objectType:"Agent",mbox:actor.mbox[0].replace("mailto:",""),name:actor.name[0]},verb:{},object:{objectType:"StatementRef",id:""}}},g=function(){return{actor:{objectType:"Agent",mbox:actor.mbox[0].replace("mailto:",""),name:actor.name[0]}}},m=function(t){var e=p();e.verb=ADL.verbs.suspended,null!=t&&(e.timestamp=t),e.context.contextActivities.grouping[0].id=window.localStorage[u.activityId],e.context.contextActivities.grouping.push(u.groupingContextActivity);e=n(e),ADL.XAPIWrapper.sendStatement(e)},v=function(t){return u.activityId+"/interactions/"+encodeURIComponent(t)},y=function(t){var e=p();e.verb=t,e.context.contextActivities.grouping[0].id=window.localStorage[u.activityId],e.context.contextActivities.grouping.push(u.groupingContextActivity);ADL.XAPIWrapper.sendStatement(e)};return{initializeAttempt:function(){!function(){var t=scv;if(u.lrs.endpoint=GetQueryStringValue("endpoint",location.href),u.lrs.auth=GetQueryStringValue("auth",location.href),u.courseId=TC_COURSE_ID,u.lmsHomePage=GetQueryStringValue("base_url",location.href),t=="2004")u.isScorm2004=true;else u.isScorm2004=false;u.activityId=TC_COURSE_ID,d={learnerIdElement:u.isScorm2004?"cmi.learner_id":"cmi.core.student_id",entryElement:u.isScorm2004==true?"cmi.entry":"cmi.core.entry",exitElement:u.isScorm2004?"cmi.exit":"cmi.core.exit",successElement:u.isScorm2004?"cmi.success_status":"cmi.core.lesson_status",completionElement:u.isScorm2004?"cmi.completion_status":"cmi.core.lesson_status",scoreRawElement:u.isScorm2004?"cmi.score.raw":"cmi.core.score.raw",scoreMinElement:u.isScorm2004?"cmi.score.min":"cmi.core.score.min",scoreMaxElement:u.isScorm2004?"cmi.score.max":"cmi.core.score.max",scoreScaledElement:u.isScorm2004?"cmi.score.scaled":"cmi.core.score.raw",languageElement:u.isScorm2004?"cmi.learner_preference.language":"cmi.student_preference.language",audioLevelElement:u.isScorm2004?"cmi.learner_preference.audio_level":"cmi.student_preference.audio",deliverySpeedElement:u.isScorm2004?"cmi.learner_preference.delivery_speed":"cmi.student_preference.speed",audioCaptioningElement:u.isScorm2004?"cmi.learner_preference.audio_captioning":"cmi.student_preference.text",completionThresholdElement:u.isScorm2004?"cmi.completion_threshold":"",launchDataElement:"cmi.launch_data",maxTimeAllowedElement:u.isScorm2004?"cmi.max_time_allowed":"cmi.student_data.max_time_allowed",scaledPassingScoreElement:u.isScorm2004?"cmi.scaled_passing_score":"cmi.student_data.mastery_score",timeLimitActionElement:u.isScorm2004?"cmi.time_limit_action":"cmi.student_data.time_limit_action",locationElement:u.isScorm2004?"cmi.location":"cmi.core.lesson_location",creditElement:u.isScorm2004?"cmi.credit":"cmi.core.credit",modeElement:u.isScorm2004?"cmi.mode":"cmi.core.lesson_mode",suspendDataElement:"cmi.suspend_data",totalTimeElement:u.isScorm2004?"cmi.total_time":"cmi.core.total_time"}}(),e();var t="resume"==retrieveDataValue(d.entryElement);t&&function(){var t=ADL.XAPIWrapper.searchParams();t["verb"]=ADL.verbs.terminated.id,t["activity"]=window.localStorage[u.activityId],t["related_activities"]=true;var e=ADL.XAPIWrapper.getStatements(t);if(e.statements.length==1){var i=e.statements[0];var n=f();n.verb=ADL.verbs.voided;n.object.id=i.id;var r=ADL.XAPIWrapper.sendStatement(n);m(i.timestamp)}}();t=t?ADL.verbs.resumed:ADL.verbs.attempted;y(t)},resumeAttempt:function(){y(ADL.verbs.resumed)},suspendAttempt:m,terminateAttempt:function(){var t=p(),e=l?ADL.verbs.suspended:ADL.verbs.terminated;t.verb=e,t.context.contextActivities.grouping[0].id=window.localStorage[u.activityId],t.context.contextActivities.grouping.push(u.groupingContextActivity);t=n(t),ADL.XAPIWrapper.sendStatement(t);window.localStorage.removeItem("learnerId")},saveDataValue:function(t,e){if(-1<t.indexOf("cmi.interactions"))!function(t,e){var i=window.localStorage[u.activityId]+"_interactions",n=window.localStorage.getItem(i),r;if((r=[])!=null)var r=JSON.parse(n);elementArray=t.split(".");var o=elementArray[2],a=elementArray[3];if(a=="id"){var s={index:o,id:e,type:"",learner_response:"",result:"",description:""};if(r!=null){r.push(s);window.localStorage.setItem(i,JSON.stringify(r))}else window.localStorage.setItem(i,JSON.stringify([s]))}else if(a=="type"){for(var c=0;c<r.length;c++)if(r[c].index==o){r[c].type=e;window.localStorage.setItem(i,JSON.stringify(r));break}}else if(a=="description"){for(var c=0;c<r.length;c++)if(r[c].index==o){r[c].description=e;window.localStorage.setItem(i,JSON.stringify(r));break}}else if(a=="learner_response"||a=="student_response")for(var c=0;c<r.length;c++)if(r[c].index==o){r[c].learner_response=e;window.localStorage.setItem(i,JSON.stringify(r));var l=h();l.object.id=v(r[c].id);l.context.contextActivities.grouping[0].id=window.localStorage[u.activityId];l.context.contextActivities.grouping.push(u.groupingContextActivity);l.result.response=r[c].learner_response;if(u.isScorm2004)l.object.definition.description={"en-US":r[c].description};l.object.definition.interactionType=r[c].type;switch(r[c].type){case"choice":l.object.definition.choices=[];break;case"likert":l.object.definition.scale=[];break;case"matching":l.object.definition.source=[];l.object.definition.target=[];break;case"performance":l.object.definition.steps=[];break;case"sequencing":l.object.definition.choices=[];break;default:break}var p=ADL.XAPIWrapper.sendStatement(l);r.splice(c,1)}}(t,e);else switch(t){case d.scoreScaledElement:o(e);break;case d.completionElement:a(e);break;case d.successElement:s(e);break;case d.locationElement:case d.suspendDataElement:r(t,e);break;case d.exitElement:l="suspend"==e}},getSavedData:function(t){window.localStorage[u.activityId];var e=g(),t=ADL.XAPIWrapper.getState(u.activityId,e,t);return null==t?"":t},setScore:o,setComplete:a,setSuccess:s,configureLRS:e,getStudent:g}}(),retrieveDataValue="2004"==scv?(API_1484_11=function(e){var i=!1,n=[],r=0,a=0;return{getCache:function(){return o},Initialize:function(t){return i?"false":(i=!0,"1.2"!=e.scorm_version&&ADL.XAPIWrapper.changeConfig({isScorm2004:!0}),xapi.initializeAttempt(),"true")},GetValue:function(t){(new Date).toLocaleString();if(!i)return"false";(new Date).toLocaleString();return"cmi.interactions._count"==t?(varvalue_count=parseInt(++r),varvalue='"'+varvalue_count+'"',varvalue_count):"cmi.objectives._count"==t?(varvalue_count=parseInt(++a),varvalue='"'+varvalue_count+'"',varvalue_count):"cmi.learner_id"===t?xapi.getStudent().actor.mbox:"cmi.learner_name"===t?xapi.getStudent().actor.name:"cmi.mode"===t?"normal":"cmi.completion_status"===t?"incomplete":(void 0!==n[t]||"cmi.core.lesson_location"!=t&&"cmi.suspend_data"!=t||(n[t]=xapi.getSavedData(t)),varvalue=void 0===n[t]?"":n[t],varvalue)},SetValue:function(t,e){(new Date).toLocaleString();return i?(n["cmi.interactions._count"]=r,n["cmi.objectives._count"]=a,n[t]=e,xapi.saveDataValue(t,e),"true"):"false"},Commit:function(t){return i?"true":"false"},Terminate:function(t){return i?(xapi.terminateAttempt(),"true"):"false"},GetLastError:function(){return 0},GetDiagnostic:function(t){return"diagnostic string"},GetErrorString:function(t){return"error string"}}}(window),initializeCommunication=API_1484_11.Initialize,terminateCommunication=API_1484_11.Terminate,storeDataValue=API_1484_11.SetValue,API_1484_11.GetValue):(API=function(){var i=!1,n=[],r=0,o=0;return{getCache:function(){return n},LMSInitialize:function(t){return i?"false":(i=!0,xapi.initializeAttempt(),"true")},LMSGetValue:function(t){(new Date).toLocaleString();return i?"cmi.interactions._count"==t?(varvalue_count=parseInt(++r),varvalue='"'+varvalue_count+'"',varvalue_count):"cmi.objectives._count"==t?(varvalue_count=parseInt(++o),varvalue='"'+varvalue_count+'"',varvalue_count):"cmi.core.student_id"===t?xapi.getStudent().actor.mbox:"cmi.core.student_name"===t?xapi.getStudent().actor.name:"cmi.core.lesson_mode"===t?"normal":"cmi.core.lesson_status"===t?"incomplete":(void 0!==n[t]||"cmi.core.lesson_location"!=t&&"cmi.suspend_data"!=t||(n[t]=xapi.getSavedData(t)),varvalue=void 0===n[t]?"":n[t],varvalue):"false"},LMSSetValue:function(t,e){(new Date).toLocaleString();return i?(n["cmi.interactions._count"]=r,n["cmi.objectives._count"]=o,n[t]=e,xapi.saveDataValue(t,e),"true"):"false"},LMSCommit:function(t){return i?"true":"false"},LMSFinish:function(t){return i?(xapi.terminateAttempt(),"true"):"false"},LMSGetLastError:function(){return 0},LMSGetDiagnostic:function(t){return"diagnostic string"},LMSGetErrorString:function(t){return"error string"}}}(window),initializeCommunication=API.LMSInitialize,terminateCommunication=API.LMSFinish,storeDataValue=API.LMSSetValue,API.LMSGetValue);
//# sourceMappingURL=scormdriver.min.js.map
