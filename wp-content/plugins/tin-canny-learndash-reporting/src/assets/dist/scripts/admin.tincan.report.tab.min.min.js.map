{"version":3,"file":"admin.tincan.report.tab.min.min.js","sources":["admin.tincan.report.tab.min.min.js"],"sourcesContent":["/**\n * @package Uncanny TinCan API\n * @author Uncanny Owl\n * @version 1.0.0\n */\n\njQuery( document ).ready( function($) {\n\t// Per Page\n\t$( '#tincan-filters-per_page select' ).change( function() {\n\t\tconsole.log('changed per page select');\n\t\tvar value = $(this).find( 'option:selected' ).val();\n\n\t\tinsertParam( 'per_page', value );\n\t});\n\n\t// <!-- Change Date Range Type\n\t$( '#tincan-filters-top #tc_filter_date_range_last' ).click( function() {\n\t\t$( '#tincan-filters-top input[name=\"tc_filter_date_range\"][value=\"last\"]' ).click();\n\t});\n\n\t$( '#tincan-filters-top input[name=\"tc_filter_start\"], #tincan-filters-top input[name=\"tc_filter_end\"]' ).click( function() {\n\t\t$( '#tincan-filters-top input[name=\"tc_filter_date_range\"][value=\"from\"]' ).click();\n\t});\n\t// Change Date Range Type -->\n\n\t// CSV Export\n\t$( '#do_tc_export_csv' ).click( function( e ) {\n\t\tvar fields = [ 'tc_filter_group', 'tc_filter_user', 'tc_filter_course', 'tc_filter_lesson', 'tc_filter_module', 'tc_filter_action', 'tc_filter_date_range', 'tc_filter_date_range_last', 'tc_filter_start', 'tc_filter_end' ];\n\n\t\t$.each( fields, function( index, value ) {\n\t\t\tvar value_top = $( '#tincan-filters-top [name=\"' + value + '\"]' ).val();\n\n\t\t\t$( '#tincan-filters-bottom [name=\"' + value + '\"]' ).val( value_top );\n\t\t});\n\n\t\tvar tc_filter_date_range = $( '#tincan-filters-top input[name=\"tc_filter_date_range\"]:checked' ).val();\n\n\t\tif ( typeof tc_filter_date_range != 'undefined' ) {\n\t\t\t$( '#tincan-filters-bottom input[name=\"tc_filter_date_range\"]' ).val( tc_filter_date_range );\n\t\t} else {\n\t\t\t$( '#tincan-filters-bottom input[name=\"tc_filter_date_range\"]' ).val( '' );\n\t\t}\n\t});\n\n\t// Ajax : Modules from Course\n\t$( '#tincan-filters-top select[name=\"tc_filter_course\"]' ).change( function() {\n\t\tif ( !$(this).val() ) {\n\t\t\tResetModules();\n\t\t\treturn;\n\t\t}\n\n\t\tvar data = {\n\t\t\t'action': 'GET_Modules',\n\t\t\t'tc_filter_course' : $( this ).val()\n\t\t};\n\n\t\t$.post( ajaxurl, data, function( response ) {\n\t\t\t// Do Something\n\n\t\t\tResetModules();\n\t\t\t$( '#tincan-filters-top select[name=\"tc_filter_module\"]' ).append( response );\n\t\t});\n\t});\n\n\t// Change Sorting Indicator\n\t$( '.uo-admin-reporting-tab-single#tin-can table.wp-list-table thead th' ).each( function() {\n\t\tvar $indicator = $(this).find( '.sorting-indicator' );\n\n\t\tif ( $indicator.css( 'visibility' ) == 'hidden' ) {\n\t\t\t$indicator.addClass( 'double-headed-triangles' );\n\t\t}\n\t});\n\n\tfunction ResetModules() {\n\t\t$( '#tincan-filters-top select[name=\"tc_filter_module\"]' ).children().each( function (i) {\n\t\t\tif ( i !== 0 ) $(this).remove();\n\t\t});\n\t}\n\n\tfunction insertParam(key, value)\n\t{\n\t\tconsole.log('inserting param');\n\t\tconsole.log([key, value]);\n\t    key = encodeURI(key); value = encodeURI(value);\n\n\t    var kvp = document.location.search.substr(1).split('&');\n\n\t    var i=kvp.length; var x; while(i--)\n\t    {\n\t        x = kvp[i].split('=');\n\n\t        if (x[0]==key)\n\t        {\n\t            x[1] = value;\n\t            kvp[i] = x.join('=');\n\t            break;\n\t        }\n\t    }\n\n\t    if(i<0) {kvp[kvp.length] = [key,value].join('=');}\n\n\t    //this will reload the page, it's likely better to store this until finished\n\t    document.location.search = kvp.join('&');\n\t}\n});"],"names":["jQuery","document","ready","$","ResetModules","children","each","i","this","remove","change","console","log","key","value","encodeURI","x","kvp","location","search","substr","split","length","join","insertParam","find","val","click","e","index","value_top","tc_filter_date_range","data","action","tc_filter_course","post","ajaxurl","response","append","$indicator","css","addClass"],"mappings":"AAMAA,OAAQC,UAAWC,MAAO,SAASC,GAmElC,SAASC,IACRD,EAAG,uDAAwDE,WAAWC,KAAM,SAAUC,GAC1E,IAANA,GAAUJ,EAAEK,MAAMC,WAnEzBN,EAAG,mCAAoCO,OAAQ,WAC9CC,QAAQC,IAAI,2BAsEb,SAAqBC,EAAKC,GAEzBH,QAAQC,IAAI,mBACZD,QAAQC,IAAI,CAACC,EAAKC,IACfD,EAAME,UAAUF,GAAMC,EAAQC,UAAUD,GAExC,IAEsBE,EAFlBC,EAAMhB,SAASiB,SAASC,OAAOC,OAAO,GAAGC,MAAM,KAE/Cd,EAAEU,EAAIK,OAAe,KAAMf,KAI3B,IAFAS,EAAIC,EAAIV,GAAGc,MAAM,MAEX,IAAIR,EACV,CACIG,EAAE,GAAKF,EACPG,EAAIV,GAAKS,EAAEO,KAAK,KAChB,MAILhB,EAAE,IAAIU,EAAIA,EAAIK,QAAU,CAACT,EAAIC,GAAOS,KAAK,MAG5CtB,SAASiB,SAASC,OAASF,EAAIM,KAAK,KA1FvCC,CAAa,WAFDrB,EAAEK,MAAMiB,KAAM,mBAAoBC,SAM/CvB,EAAG,kDAAmDwB,MAAO,WAC5DxB,EAAG,wEAAyEwB,UAG7ExB,EAAG,sGAAuGwB,MAAO,WAChHxB,EAAG,wEAAyEwB,UAK7ExB,EAAG,qBAAsBwB,MAAO,SAAUC,GAGzCzB,EAAEG,KAFW,CAAE,kBAAmB,iBAAkB,mBAAoB,mBAAoB,mBAAoB,mBAAoB,uBAAwB,4BAA6B,kBAAmB,iBAE5L,SAAUuB,EAAOf,GAChC,IAAIgB,EAAY3B,EAAG,8BAAgCW,EAAQ,MAAOY,MAElEvB,EAAG,iCAAmCW,EAAQ,MAAOY,IAAKI,KAG3D,IAAIC,EAAuB5B,EAAG,kEAAmEuB,WAE7D,IAAxBK,EACX5B,EAAG,6DAA8DuB,IAAKK,GAEtE5B,EAAG,6DAA8DuB,IAAK,MAKxEvB,EAAG,uDAAwDO,OAAQ,WAClE,IAKIsB,EALE7B,EAAEK,MAAMkB,OAKVM,EAAO,CACVC,OAAU,cACVC,iBAAqB/B,EAAGK,MAAOkB,OAGhCvB,EAAEgC,KAAMC,QAASJ,EAAM,SAAUK,GAGhCjC,IACAD,EAAG,uDAAwDmC,OAAQD,MAbnEjC,MAkBFD,EAAG,uEAAwEG,KAAM,WAChF,IAAIiC,EAAapC,EAAEK,MAAMiB,KAAM,sBAEQ,UAAlCc,EAAWC,IAAK,eACpBD,EAAWE,SAAU"}