{"version":3,"file":"hooks.min.js","sources":["hooks.min.js"],"sourcesContent":["/**\n * @package Uncanny TinCan API\n * @author Uncanny Owl\n * @version 1.0.0\n */\n\n// Hooks\nvar tinCanny = {\n\thooks: { action: {}, filter: {} },\n\taddAction: function( action, callable, priority, tag ) {\n\t\ttinCanny.addHook( 'action', action, callable, priority, tag );\n\t},\n\taddFilter: function( action, callable, priority, tag ) {\n\t\ttinCanny.addHook( 'filter', action, callable, priority, tag );\n\t},\n\tdoAction: function( action ) {\n\t\ttinCanny.doHook( 'action', action, arguments );\n\t},\n\tapplyFilters: function( action ) {\n\t\treturn tinCanny.doHook( 'filter', action, arguments );\n\t},\n\tremoveAction: function( action, tag ) {\n\t\ttinCanny.removeHook( 'action', action, tag );\n\t},\n\tremoveFilter: function( action, priority, tag ) {\n\t\ttinCanny.removeHook( 'filter', action, priority, tag );\n\t},\n\taddHook: function( hookType, action, callable, priority, tag ) {\n\t\tif ( undefined === tinCanny.hooks[hookType][action] ) {\n\t\t\ttinCanny.hooks[hookType][action] = [];\n\t\t}\n\t\tvar hooks = tinCanny.hooks[hookType][action];\n\t\tif ( undefined === tag ) {\n\t\t\ttag = action + '_' + hooks.length;\n\t\t}\n        if( priority === undefined ){\n            priority = 10;\n        }\n\n        tinCanny.hooks[hookType][action].push( { tag:tag, callable:callable, priority:priority } );\n\t},\n\tdoHook: function( hookType, action, args ) {\n\n        // splice args from object into array and remove first index which is the hook name\n        args = Array.prototype.slice.call(args, 1);\n\n\t\tif ( undefined !== tinCanny.hooks[hookType][action] ) {\n\t\t\tvar hooks = tinCanny.hooks[hookType][action], hook;\n\t\t\t//sort by priority\n\t\t\thooks.sort(function(a,b) {\n\t\t\t\treturn a.priority - b.priority;\n\t\t\t});\n\n\t\t\tif( !window )\n\t\t\t\treturn;\n\n\t\t\tfor( var i=0; i<hooks.length; i++) {\n                hook = hooks[i].callable;\n\n                if(typeof hook != 'function' && window && hook in window )\n                    hook = window[hook];\n\t\t\t\tif ( 'action' == hookType ) {\n                    hook.apply(null, args);\n\t\t\t\t} else {\n                    args[0] = hook.apply(null, args);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif ( 'filter' == hookType ) {\n\t\t\treturn args[0];\n\t\t}\n\t},\n\tremoveHook: function( hookType, action, priority, tag ) {\n\t\tif ( undefined !== tinCanny.hooks[hookType][action] ) {\n\t\t\tvar hooks = tinCanny.hooks[hookType][action];\n\t\t\tfor( var i=hooks.length-1; i>=0; i--) {\n\t\t\t\tif ((undefined === tag||tag==hooks[i].tag) && (undefined===priority||priority==hooks[i].priority)){\n\t\t\t\t\thooks.splice(i,1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n"],"names":["tinCanny","hooks","action","filter","addAction","callable","priority","tag","addHook","addFilter","doAction","doHook","arguments","applyFilters","removeAction","removeHook","removeFilter","hookType","undefined","length","push","args","Array","prototype","slice","call","hook","sort","a","b","window","i","apply","splice"],"mappings":"AAOA,IAAIA,SAAW,CACdC,MAAO,CAAEC,OAAQ,GAAIC,OAAQ,IAC7BC,UAAW,SAAUF,EAAQG,EAAUC,EAAUC,GAChDP,SAASQ,QAAS,SAAUN,EAAQG,EAAUC,EAAUC,IAEzDE,UAAW,SAAUP,EAAQG,EAAUC,EAAUC,GAChDP,SAASQ,QAAS,SAAUN,EAAQG,EAAUC,EAAUC,IAEzDG,SAAU,SAAUR,GACnBF,SAASW,OAAQ,SAAUT,EAAQU,YAEpCC,aAAc,SAAUX,GACvB,OAAOF,SAASW,OAAQ,SAAUT,EAAQU,YAE3CE,aAAc,SAAUZ,EAAQK,GAC/BP,SAASe,WAAY,SAAUb,EAAQK,IAExCS,aAAc,SAAUd,EAAQI,EAAUC,GACzCP,SAASe,WAAY,SAAUb,EAAQI,EAAUC,IAElDC,QAAS,SAAUS,EAAUf,EAAQG,EAAUC,EAAUC,QACnDW,IAAclB,SAASC,MAAMgB,GAAUf,KAC3CF,SAASC,MAAMgB,GAAUf,GAAU,IAEpC,IAAID,EAAQD,SAASC,MAAMgB,GAAUf,QAChCgB,IAAcX,IAClBA,EAAML,EAAS,IAAMD,EAAMkB,QAMtBnB,SAASC,MAAMgB,GAAUf,GAAQkB,KAAM,CAAEb,IAAIA,EAAKF,SAASA,EAAUC,SAHjEA,OADaY,IAAbZ,EACW,GAG+DA,KAErFK,OAAQ,SAAUM,EAAUf,EAAQmB,GAKnC,GAFMA,EAAOC,MAAMC,UAAUC,MAAMC,KAAKJ,EAAM,QAEzCH,IAAclB,SAASC,MAAMgB,GAAUf,GAAU,CACrD,IAA8CwB,EAA1CzB,EAAQD,SAASC,MAAMgB,GAAUf,GAMrC,GAJAD,EAAM0B,KAAK,SAASC,EAAEC,GACrB,OAAOD,EAAEtB,SAAWuB,EAAEvB,YAGlBwB,OACJ,OAED,IAAK,IAAIC,EAAE,EAAGA,EAAE9B,EAAMkB,OAAQY,IAGC,mBAFlBL,EAAOzB,EAAM8B,GAAG1B,WAEgByB,QAAUJ,KAAQI,SAC9CJ,EAAOI,OAAOJ,IACzB,UAAYT,EACDS,EAAKM,MAAM,KAAMX,GAEjBA,EAAK,GAAKK,EAAKM,MAAM,KAAMX,GAI7C,GAAK,UAAYJ,EAChB,OAAOI,EAAK,IAGdN,WAAY,SAAUE,EAAUf,EAAQI,EAAUC,GACjD,QAAKW,IAAclB,SAASC,MAAMgB,GAAUf,GAE3C,IADA,IAAID,EAAQD,SAASC,MAAMgB,GAAUf,GAC5B6B,EAAE9B,EAAMkB,OAAO,EAAM,GAAHY,EAAMA,SAC3Bb,IAAcX,GAAKA,GAAKN,EAAM8B,GAAGxB,UAASW,IAAYZ,GAAUA,GAAUL,EAAM8B,GAAGzB,UACvFL,EAAMgC,OAAOF,EAAE"}