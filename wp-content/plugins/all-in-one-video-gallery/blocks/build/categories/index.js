(()=>{"use strict";var e={n:l=>{var o=l&&l.__esModule?()=>l.default:()=>l;return e.d(o,{a:o}),o},d:(l,o)=>{for(var t in o)e.o(o,t)&&!e.o(l,t)&&Object.defineProperty(l,t,{enumerable:!0,get:o[t]})},o:(e,l)=>Object.prototype.hasOwnProperty.call(e,l)};const l=window.wp.blocks,o=window.wp.element,t=window.wp.serverSideRender;var a=e.n(t);const n=window.wp.blockEditor,i=window.wp.components,r=window.wp.data;function c(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";for(var t=0;t<e.length;t+=1)l.push({label:o+e[t].name,value:e[t].id}),e[t].children.length>0&&c(e[t].children,l,o.trim()+"--- ");return l}const s=JSON.parse('{"u2":"aiovg/categories"}');(0,l.registerBlockType)(s.u2,{attributes:{template:{type:"string",default:aiovg_blocks.categories.template},id:{type:"number",default:aiovg_blocks.categories.id},columns:{type:"number",default:aiovg_blocks.categories.columns},limit:{type:"limit",default:aiovg_blocks.categories.limit},orderby:{type:"string",default:aiovg_blocks.categories.orderby},order:{type:"string",default:aiovg_blocks.categories.order},hierarchical:{type:"boolean",default:aiovg_blocks.categories.hierarchical},show_description:{type:"boolean",default:aiovg_blocks.categories.show_description},show_count:{type:"boolean",default:aiovg_blocks.categories.show_count},hide_empty:{type:"boolean",default:aiovg_blocks.categories.hide_empty},show_pagination:{type:"boolean",default:aiovg_blocks.categories.show_pagination}},edit:function(e){let{attributes:l,setAttributes:t}=e;const{template:s,id:g,columns:d,limit:u,orderby:b,order:m,hierarchical:_,show_description:p,show_count:v,hide_empty:h,show_pagination:w}=l,k=(0,r.useSelect)((e=>{const l=e("core").getEntityRecords("taxonomy","aiovg_categories",{per_page:100});let o=[{label:"-- "+aiovg_blocks.i18n.select_parent+" --",value:0}];if(l&&l.length>0){let e=c(function(e){for(var l,o={},t=[],a=0;a<e.length;a+=1)o[e[a].id]=a,e[a].children=[];for(a=0;a<e.length;a+=1)0==(l=e[a]).parent?t.push(l):o.hasOwnProperty(l.parent)&&e[o[l.parent]].children.push(l);return t}(l));o=[...o,...e]}return o}));return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(n.InspectorControls,null,(0,o.createElement)(i.PanelBody,{title:aiovg_blocks.i18n.general_settings},(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.SelectControl,{label:aiovg_blocks.i18n.select_template,value:s,options:[{label:aiovg_blocks.i18n.grid,value:"grid"},{label:aiovg_blocks.i18n.list,value:"list"},{label:aiovg_blocks.i18n.dropdown,value:"dropdown"}],onChange:e=>t({template:e})})),(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.SelectControl,{label:aiovg_blocks.i18n.select_parent,value:g,options:k,onChange:e=>t({id:Number(e)})})),"grid"==s&&(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.RangeControl,{label:aiovg_blocks.i18n.columns,value:d,min:1,max:12,onChange:e=>t({columns:e})})),"grid"==s&&(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.RangeControl,{label:aiovg_blocks.i18n.limit,value:u,min:0,max:500,onChange:e=>t({limit:e})})),(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.SelectControl,{label:aiovg_blocks.i18n.order_by,value:b,options:[{label:aiovg_blocks.i18n.id,value:"id"},{label:aiovg_blocks.i18n.count,value:"count"},{label:aiovg_blocks.i18n.name,value:"name"},{label:aiovg_blocks.i18n.slug,value:"slug"}],onChange:e=>t({orderby:e})})),(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.SelectControl,{label:aiovg_blocks.i18n.order,value:m,options:[{label:aiovg_blocks.i18n.asc,value:"asc"},{label:aiovg_blocks.i18n.desc,value:"desc"}],onChange:e=>t({order:e})})),("list"==s||"dropdown"==s)&&(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.ToggleControl,{label:aiovg_blocks.i18n.show_hierarchy,checked:_,onChange:()=>t({hierarchical:!_})})),"grid"==s&&(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.ToggleControl,{label:aiovg_blocks.i18n.show_description,checked:p,onChange:()=>t({show_description:!p})})),(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.ToggleControl,{label:aiovg_blocks.i18n.show_videos_count,checked:v,onChange:()=>t({show_count:!v})})),(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.ToggleControl,{label:aiovg_blocks.i18n.hide_empty_categories,checked:h,onChange:()=>t({hide_empty:!h})})),"grid"==s&&(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.ToggleControl,{label:aiovg_blocks.i18n.show_pagination,checked:w,onChange:()=>t({show_pagination:!w})})))),(0,o.createElement)("div",(0,n.useBlockProps)(),(0,o.createElement)(i.Disabled,null,(0,o.createElement)(a(),{block:"aiovg/categories",attributes:l}))))}})})();