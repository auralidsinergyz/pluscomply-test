(()=>{var e={416:()=>{if(void 0===e)var e={};var t;(t=jQuery)(document).ready((function(){var o;e.restForms.constructor(),jQuery("#ulgm_group_upload_image_button").on("click",(function(e){e.preventDefault(),o||(o=wp.media.frames.file_frame=wp.media({title:"Select a image to upload",button:{text:"Use this image"},multiple:!1})).on("select",(function(){attachment=o.state().get("selection").first().toJSON(),t("#ulgm_group_image_preview").attr("src",attachment.url).css("width","auto").show(),t("#ulgm_group_image_attachment_id").val(attachment.id)})),o.open()}))})),e.restForms={constructor:function(){this.addFormSubmitEvents();try{t("#ulgm_font_color").wpColorPicker(),t("#ulgm_main_color").wpColorPicker()}catch(e){}},addFormSubmitEvents:function(){t(".submit-group-management-form").on("click",this.sendRestCall),t(".change-group-management-form").on("change",this.sendRestCall)},sendRestCall:function(o){var n=t(".uo-modal-spinner"),i=t(o.currentTarget).closest(".group-management-form"),a=i.find(".group-management-rest-message");a.hide(),t("#uo-group-progress-report").hide();var r=t(o.currentTarget).data("end-point");if(!("group-id"===t(o.currentTarget).attr("id")&&0==t(o.currentTarget).val()||"uo-group-report-course"===t(o.currentTarget).attr("id")&&0==t(o.currentTarget).val())){if(t("#group-course-report-datatable").length>0&&void 0!==t.fn.dataTable&&t("#group-course-report-datatable").DataTable().clear().columns.adjust().draw(),"undefined"!=typeof tinymce)for(edId in tinyMCE.editors)void 0!==tinyMCE.editors[edId]&&void 0!==tinyMCE.editors[edId].save&&tinyMCE.editors[edId].save instanceof Function&&tinyMCE.editors[edId].save();var s=i.find(":input").serializeObject();n.show(),t.ajax({method:"POST",url:ulgmRestApiSetup.root+r+"/",data:s,beforeSend:function(e){console.log(e),e.setRequestHeader("X-WP-Nonce",ulgmRestApiSetup.nonce)},success:function(o){if(console.log(o),n.hide(),!0===o.success){t("#uo-group-report-course").show();var i=window.location.href;if(i.indexOf("?")>-1?i+="&message="+encodeURIComponent(o.data.message):i+="?message="+encodeURIComponent(o.data.message),void 0===o.data.reload){var r=o.data.message,s=location.search;new RegExp("[&?]message([=&].+)?$").test(s)&&(s=s.replace(new RegExp("(?:[&?])message[^&]*","g"),"")),s+="&",s="?"+(s+="message="+r).slice(1),location.assign(location.origin+location.pathname+s+location.hash)}else void 0!==o.data.call_function&&(void 0!==o.data.function_vars?e[o.data.call_function](o.data.function_vars):e[o.data.call_function]())}else n.hide(),ulgmRestApiSetup.hasOwnProperty("localized")&&"invalid-course-id"!==o.data.error&&t("#uo-group-report-course").empty().append(t("<option>",{value:"0",text:ulgmRestApiSetup.localized.selectCourse})),a.html(o.data.message).show()},fail:function(e){n.hide(),a.html(e.data.message)}})}}},t.fn.serializeObject=function(){var e={},o=this.serializeArray();return t.each(o,(function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""})),e}},892:()=>{var e;(e=jQuery)(document).ready((function(){e(".uo-admin-copy-to-clipboard-input").click((function(){var t=e(this).closest(".uo-admin-copy-to-clipboard"),o=e(t.find(".uo-admin-ctc-tooltip"));e(this).select(),document.execCommand("Copy"),window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty();var n=o.text();o.text("Copied!"),setTimeout((function(){o.text(n)}),3e3)}))}))},262:()=>{var e;(e=jQuery)((function(){if(e("#ulgm_group_leader_email").length>0){var t=ULGM_USER_AUTOCOMPLETE_AJAX.url+"?action=search_user";e("#ulgm_group_leader_email").autocomplete({source:t,delay:500,minLength:3})}}))},537:()=>{jQuery(document).ready((function(){var e="",t="#general_product_data, .options_group.pricing";jQuery(".options_group.pricing").addClass("show_if_license").addClass("show_if_courses"),jQuery(".form-field._tax_status_field").parent().addClass("show_if_courses").addClass("show_if_license");var o=jQuery("#product-type").val();"license"!==o&&"courses"!==o||(jQuery("li.general_options").show(),jQuery("li.general_options a").trigger("click"),jQuery(".options_group.pricing").removeClass("hidden").show(),jQuery(".form-field._tax_status_field").parent().show(),jQuery("li.attribute_options").removeClass("hide_if_courses").addClass("show_if_courses").show(),jQuery("li.linked_product_options").removeClass("hide_if_courses").addClass("show_if_courses").show()),"subscription"!==o&&"license"!==o||jQuery("#ulgm_swap_license_product_wrapper").show(),jQuery().select2&&(jQuery("#ulgm_swap_license_product").select2({theme:"classic"}),jQuery("#_ulgm_course").select2({theme:"classic",width:"350px"}),jQuery("#_ulgm_license").select2({theme:"classic",width:"350px"})),jQuery("#product-type").change((function(){e=jQuery(this).val(),jQuery("#_virtual").prop("checked",!1),jQuery("#ulgm_swap_license_product_wrapper").hide(),"courses"===e&&(jQuery("#_virtual").prop("checked",!0),jQuery("li.general_options").show(),jQuery("li.attribute_options").removeClass("hide_if_courses").addClass("show_if_courses"),jQuery("#advanced_product_data").hide(),jQuery(".advanced_options").removeClass("active"),jQuery(t).removeClass("active").show()),"group"===e&&(jQuery("li.general_options").show().addClass("active"),jQuery("#advanced_product_data").hide(),jQuery(".advanced_options").removeClass("active"),jQuery(t).removeClass("active").show()),"license"===e&&(jQuery("#_virtual").prop("checked",!0),jQuery("li.general_options").show(),jQuery("#advanced_product_data").hide(),jQuery(".advanced_options").removeClass("active"),jQuery("#general_product_data").hide(),jQuery(t).removeClass("hidden").show(),jQuery("#ulgm_swap_license_product_wrapper").show()),"subscription"===e&&jQuery("#ulgm_swap_license_product_wrapper").show()}))}))}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";o(892),o(262),o(537),o(416);const e=jQuery;var t=o.n(e);function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}var r=function(){function e(){n(this,e),this.getElements(),this.createAccordions()}return a(e,[{key:"getElements",value:function(){this.$elements={accordions:t()(".uo-admin-accordion")}}},{key:"createAccordions",value:function(){t().each(this.$elements.accordions,(function(e,o){new s(t()(o))}))}}]),e}(),s=function(){function e(t){n(this,e),this.setConfiguration(),this.getElements(t),this.maybeOpenOneOnFirstLoad(),this.listenClicksToHeaders()}return a(e,[{key:"setConfiguration",value:function(){this.config={slideSpeed:500,onlyOneOpen:!0,allowAllClosed:!0}}},{key:"getElements",value:function(e){this.$elements={container:e,items:e.find(".uo-admin-accordion-item"),headers:e.find(".uo-admin-accordion-item__header"),contents:e.find(".uo-admin-accordion-item__content")}}},{key:"maybeOpenOneOnFirstLoad",value:function(){0!=this.$elements.items.filter(".uo-admin-accordion-item--open").length||this.config.allowAllClosed||this.openItem(this.$elements.items.first())}},{key:"listenClicksToHeaders",value:function(){var e=this;this.$elements.headers.on("click",(function(o){var n=t()(o.currentTarget).closest(".uo-admin-accordion-item");n.hasClass("uo-admin-accordion-item--open")?1==e.$elements.items.filter(".uo-admin-accordion-item--open").length?e.config.allowAllClosed&&e.closeItem(n):e.closeItem(n):(e.config.onlyOneOpen&&e.closeAllItems(n),e.openItem(n))}))}},{key:"openItem",value:function(e){e.find(".uo-admin-accordion-item__content").slideDown(this.config.slideSpeed),e.addClass("uo-admin-accordion-item--open")}},{key:"closeItem",value:function(e){e.find(".uo-admin-accordion-item__content").slideUp(this.config.slideSpeed),e.removeClass("uo-admin-accordion-item--open")}},{key:"closeAllItems",value:function(){var e=this.$elements.items.filter(".uo-admin-accordion-item--open");e.removeClass("uo-admin-accordion-item--open"),e.find(".uo-admin-accordion-item__content").slideUp(this.config.slideSpeed)}}]),e}();const c=r;function u(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isCreateGroup()&&(this.getElements(),this.addPillboxToGroupCourses())}var o,n;return o=e,(n=[{key:"getElements",value:function(){this.$elements={coursesList:t()("#ulg-create-group__courses-list")}}},{key:"addPillboxToGroupCourses",value:function(){this.$elements.coursesList.select2({theme:"default ulg-select2"})}},{key:"isCreateGroup",value:function(){return 1==t()("#ulg-create-group").length}}])&&u(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),e}();function d(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getElements(),1==this.$elements.tryAutomatorXIcon.length&&this.handleHide()}var t,o;return t=e,o=[{key:"getElements",value:function(){this.$elements={tryAutomatorXIcon:jQuery("#ulgm-sidebar-try-automator-close")}}},{key:"restCall",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=["try_automator_visibility"];i.includes(e)?jQuery.ajax({method:"POST",url:ulgmRestApiSetup.root+e+"/",data:jQuery.param(t)+"&"+jQuery.param({doing_rest:1}),beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",ulgmRestApiSetup.nonce)},success:function(e){void 0!==o&&o(e)},statusCode:{403:function(){location.reload()}},fail:function(e){void 0!==n&&n(e)}}):console.error("The ".concat(e," endPoint does not exists"))}},{key:"handleHide",value:function(){var e=this;this.$elements.tryAutomatorXIcon.on("click",(function(t){t.preventDefault();var o=jQuery(t.currentTarget).closest(".ulgm-sidebar-featured-item-container");o.addClass("ulgm-sidebar-featured-item-container--loading"),e.restCall("try_automator_visibility",{action:"hide-forever"},(function(e){e.success?o.remove():o.removeClass("ulgm-sidebar-featured-item-container--loading")}),(function(){o.removeClass("ulgm-sidebar-featured-item-container--loading")}))}))}}],o&&d(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();document.addEventListener("DOMContentLoaded",(function(){new c,new l,new m}))})()})();
//# sourceMappingURL=bundle.min.js.map